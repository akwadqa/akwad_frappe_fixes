{
  "version": 3,
  "sources": ["../../../../../apps/frappe/node_modules/cropperjs/dist/cropper.js", "../../../../../apps/frappe/frappe/public/js/frappe/file_uploader/ProgressRing.vue", "../../../../../apps/akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/FilePreview.vue", "../../../../../apps/frappe/frappe/public/js/frappe/file_uploader/TreeNode.vue", "../../../../../apps/frappe/frappe/public/js/frappe/file_uploader/FileBrowser.vue", "../../../../../apps/frappe/frappe/public/js/frappe/file_uploader/WebLink.vue", "../../../../../apps/frappe/frappe/public/js/integrations/google_drive_picker.js", "../../../../../apps/akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/ImageCropper.vue", "../../../../../apps/akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/FileUploader.vue", "../../../../../apps/akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/index.js", "../../../../../apps/akwad_frappe_fixes/akwad_frappe_fixes/public/fileUploader.bundle.js"],
  "sourcesContent": ["/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:17.411Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Cropper = factory());\n}(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper'; // Actions\n\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw'; // Classes\n\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\"); // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\"); // Drag modes\n\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none'; // Events\n\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom'; // Mime types\n\n  var MIME_TYPE_JPEG = 'image/jpeg'; // RegExps\n\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i; // Misc\n  // Inspired by the default width and height of a canvas element.\n\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: MIN_CONTAINER_WIDTH,\n    minContainerHeight: MIN_CONTAINER_HEIGHT,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n          toArray(data).forEach(function (value, key) {\n            callback.call(data, value, key, data);\n          });\n        } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n\n    var maxRatio = 0;\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n\n        if (Math.abs(ratio) > Math.abs(maxRatio)) {\n          maxRatio = ratio;\n        }\n      });\n    });\n    return maxRatio;\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n\n  function getAdjustedSizes(_ref4) // or 'cover'\n  {\n    var aspectRatio = _ref4.aspectRatio,\n        height = _ref4.height,\n        width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height,\n        degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n        imageNaturalWidth = _ref6.naturalWidth,\n        imageNaturalHeight = _ref6.naturalHeight,\n        _ref6$rotate = _ref6.rotate,\n        rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n        _ref6$scaleX = _ref6.scaleX,\n        scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n        _ref6$scaleY = _ref6.scaleY,\n        scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n        naturalWidth = _ref7.naturalWidth,\n        naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n        fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n        _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n        _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n        imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n        _ref8$maxWidth = _ref8.maxWidth,\n        maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n        _ref8$maxHeight = _ref8.maxHeight,\n        maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n        _ref8$minWidth = _ref8.minWidth,\n        minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n        _ref8$minHeight = _ref8.minHeight,\n        minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = []; // Chunk Typed Array for better performance (#435)\n\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation; // Ignores range error when the image does not have correct Exif information\n\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n\n          offset += 1;\n        }\n      }\n\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n\n          if (littleEndian || endianness === 0x4D4D\n          /* bigEndian */\n          ) {\n              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n                if (firstIFDOffset >= 0x00000008) {\n                  ifdStart = tiffOffset + firstIFDOffset;\n                }\n              }\n            }\n        }\n      }\n\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n\n        var _offset;\n\n        var i;\n\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112\n          /* Orientation */\n          ) {\n              // 8 is the offset of the current tag's value\n              _offset += 8; // Get the original orientation value\n\n              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n              dataView.setUint16(_offset, 1, littleEndian);\n              break;\n            }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n\n    return orientation;\n  }\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n      // Rotate left 180\u00B0\n\n      case 3:\n        rotate = -180;\n        break;\n      // Flip vertical\n\n      case 4:\n        scaleY = -1;\n        break;\n      // Flip vertical and rotate right 90\u00B0\n\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n      // Rotate right 90\u00B0\n\n      case 6:\n        rotate = 90;\n        break;\n      // Flip horizontal and rotate right 90\u00B0\n\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n      // Rotate left 90\u00B0\n\n      case 8:\n        rotate = -90;\n        break;\n    }\n\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n          options = this.options,\n          container = this.container,\n          cropper = this.cropper;\n      var minWidth = Number(options.minContainerWidth);\n      var minHeight = Number(options.minContainerHeight);\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n        height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n          imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      canvasData.left = (containerData.width - canvasData.width) / 2;\n      canvasData.top = (containerData.height - canvasData.height) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n          degree: imageData.rotate || 0\n        }),\n            naturalWidth = _getRotatedSizes.width,\n            naturalHeight = _getRotatedSizes.height;\n\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true); // Initialize auto crop area\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than \"minWidth/Height\"\n\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData,\n          limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height\n\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        } // The minWidth/Height must be less than maxWidth/Height\n\n\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData;\n\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n          crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n\n      if (!preview) {\n        return;\n      }\n\n      var previews = preview;\n\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img'); // Save the original size for recover\n\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n\n        img.src = url;\n        img.alt = alt;\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n          cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n          height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n\n      var options = this.options,\n          container = this.container,\n          containerData = this.containerData;\n      var ratioX = container.offsetWidth / containerData.width;\n      var ratioY = container.offsetHeight / containerData.height;\n      var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY; // Resize when width changed or height changed\n\n      if (ratio !== 1) {\n        var canvasData;\n        var cropBoxData;\n\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n\n        this.render();\n\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n\n      if (this.disabled) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (this.disabled // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      var options = this.options,\n          pointers = this.pointers;\n      var action;\n\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      } // This line is required for preventing page zooming in iOS browsers\n\n\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n\n      if (this.disabled || !action) {\n        return;\n      }\n\n      var pointers = this.pointers;\n      event.preventDefault();\n\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      var action = this.action,\n          pointers = this.pointers;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n          canvasData = this.canvasData,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData,\n          pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n          top = cropBoxData.top,\n          width = cropBoxData.width,\n          height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset; // Locking aspect ratio in \"free mode\" by holding shift key\n\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n\n            break;\n\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n\n            break;\n\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n\n            break;\n\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n\n            break;\n        }\n      };\n\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n        // Resize crop box\n\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_SOUTH);\n          height += range.y;\n\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n        // Move canvas\n\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n        // Zoom canvas\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n        // Create crop box\n\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n\n          if (range.y < 0) {\n            top -= height;\n          } // Show the crop box if is hidden\n\n\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n\n          break;\n      }\n\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true); // Render canvas after crop box rendered\n\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n\n      return this;\n    },\n\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      element[NAMESPACE] = undefined;\n\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n\n      this.uncreate();\n      return this;\n    },\n\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n          left = _this$canvasData.left,\n          top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var width = canvasData.width,\n          height = canvasData.height,\n          naturalWidth = canvasData.naturalWidth,\n          naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData;\n      var cropBoxData = {};\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n\n        var ratio = imageData.width / imageData.naturalWidth;\n\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n\n        this.setCropBoxData(cropBoxData);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n\n      return data || {};\n    },\n\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n\n        this.renderCropBox();\n      }\n\n      return this;\n    },\n\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.\n\n      if (!this.cropped) {\n        return source;\n      }\n\n      var _this$getData = this.getData(),\n          initialX = _this$getData.x,\n          initialY = _this$getData.y,\n          initialWidth = _this$getData.width,\n          initialHeight = _this$getData.height;\n\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.width || (ratio !== 1 ? source.width : initialWidth),\n        height: options.height || (ratio !== 1 ? source.height : initialHeight)\n      }),\n          width = _getAdjustedSizes.width,\n          height = _getAdjustedSizes.height;\n\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n          imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n          imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n\n\n      var sourceWidth = source.width;\n      var sourceHeight = source.height; // Source canvas parameters\n\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight; // Destination canvas parameters\n\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n\n      var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid \"IndexSizeError\"\n\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      } // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n\n\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n        if (this.ready) {\n          this.initCropBox();\n\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n          dragBox = this.dragBox,\n          face = this.face;\n\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Cropper);\n\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this;\n\n        if (tagName === 'img') {\n          this.isImg = true; // e.g.: \"img/picture.jpg\"\n\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url; // Stop when it's a blank image\n\n          if (!url) {\n            return;\n          } // e.g.: \"https://example.com/img/picture.jpg\"\n\n\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n\n        if (!url) {\n          return;\n        }\n\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n            options = this.options;\n\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        } // Only IE10+ supports Typed Arrays\n\n\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        } // Detect the mime type of the image directly if it is a Data URL\n\n\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n\n          return;\n        } // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n\n\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        }; // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n\n\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        } // The third parameter is required for avoiding side-effect (#682)\n\n\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n            imageData = this.imageData; // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n\n          var _parseOrientation = parseOrientation(orientation);\n\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n            url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          } // Bust cache when there is not a \"crossOrigin\" property (#519)\n\n\n          crossOriginUrl = addTimestamp(url);\n        }\n\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.initialImageData = assign({}, _this2.imageData);\n          _this2.sizing = false;\n          _this2.sized = true;\n\n          _this2.build();\n        }; // Most modern browsers (excepts iOS WebKit)\n\n\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n\n        sizingImage.src = image.src; // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options,\n            image = this.image; // Create cropper elements\n\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image); // Hide the original image\n\n        addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image\n\n        container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden\n\n        if (!this.isImg) {\n          removeClass(image, CLASS_HIDE);\n        }\n\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n\n        if (options.autoCrop) {\n          this.crop();\n        }\n\n        this.setData(options.data);\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        this.cropper.parentNode.removeChild(this.cropper);\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Cropper;\n  }();\n\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n})));\n", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: \"ProgressRing\",\n\tprops: {\n\t\tprimary: String,\n\t\tsecondary: String,\n\t\tradius: Number,\n\t\tprogress: Number,\n\t\tstroke: Number,\n\t},\n\tdata() {\n\t\tconst normalizedRadius = this.radius - this.stroke * 2;\n\t\tconst circumference = normalizedRadius * 2 * Math.PI;\n\n\t\treturn {\n\t\t\tnormalizedRadius,\n\t\t\tcircumference,\n\t\t};\n\t},\n\tcomputed: {\n\t\tstrokeDashoffset() {\n\t\t\treturn this.circumference - (this.progress / 100) * this.circumference;\n\t\t},\n\t},\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"svg\",\n    { attrs: { height: _vm.radius * 2, width: _vm.radius * 2 } },\n    [\n      _c(\"circle\", {\n        style: {\n          stroke: _vm.secondary,\n          strokeDashoffset: 0\n        },\n        attrs: {\n          \"stroke-dasharray\": _vm.circumference + \" \" + _vm.circumference,\n          \"stroke-width\": _vm.stroke,\n          fill: \"transparent\",\n          r: _vm.normalizedRadius,\n          cx: _vm.radius,\n          cy: _vm.radius\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"circle\", {\n        style: {\n          stroke: _vm.primary,\n          strokeDashoffset: _vm.strokeDashoffset\n        },\n        attrs: {\n          \"stroke-dasharray\": _vm.circumference + \" \" + _vm.circumference,\n          \"stroke-width\": _vm.stroke,\n          fill: \"transparent\",\n          r: _vm.normalizedRadius,\n          cx: _vm.radius,\n          cy: _vm.radius\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"text\",\n        {\n          style: {\n            color: \"var(--text-color)\",\n            fontSize: \"var(--text-xs)\",\n            fontWeight: \"var(--text-bold)\"\n          },\n          attrs: {\n            \"dominant-baseline\": \"middle\",\n            \"text-anchor\": \"middle\",\n            x: _vm.radius,\n            y: _vm.radius\n          }\n        },\n        [_vm._v(\"\\n\\t\\t\" + _vm._s(_vm.progress) + \"%\\n\\t\")]\n      )\n    ]\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-4e9dbc79_0\", { source: \"\\ncircle[data-v-4e9dbc79] {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n\", map: {\"version\":3,\"sources\":[\"frappe/public/js/frappe/file_uploader/ProgressRing.vue\"],\"names\":[],\"mappings\":\";AAoEA;CACA,mCAAA;CACA,yBAAA;CACA,yBAAA;AACA\",\"file\":\"ProgressRing.vue\",\"sourcesContent\":[\"<template>\\n\\t<svg :height=\\\"radius * 2\\\" :width=\\\"radius * 2\\\">\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: secondary,\\n\\t\\t\\t\\tstrokeDashoffset: 0,\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: primary,\\n\\t\\t\\t\\tstrokeDashoffset: strokeDashoffset,\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<text\\n\\t\\t\\tdominant-baseline=\\\"middle\\\"\\n\\t\\t\\ttext-anchor=\\\"middle\\\"\\n\\t\\t\\t:x=\\\"radius\\\"\\n\\t\\t\\t:y=\\\"radius\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tcolor: 'var(--text-color)',\\n\\t\\t\\t\\tfontSize: 'var(--text-xs)',\\n\\t\\t\\t\\tfontWeight: 'var(--text-bold)',\\n\\t\\t\\t}\\\"\\n\\t\\t>\\n\\t\\t\\t{{ progress }}%\\n\\t\\t</text>\\n\\t</svg>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"ProgressRing\\\",\\n\\tprops: {\\n\\t\\tprimary: String,\\n\\t\\tsecondary: String,\\n\\t\\tradius: Number,\\n\\t\\tprogress: Number,\\n\\t\\tstroke: Number,\\n\\t},\\n\\tdata() {\\n\\t\\tconst normalizedRadius = this.radius - this.stroke * 2;\\n\\t\\tconst circumference = normalizedRadius * 2 * Math.PI;\\n\\n\\t\\treturn {\\n\\t\\t\\tnormalizedRadius,\\n\\t\\t\\tcircumference,\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\tstrokeDashoffset() {\\n\\t\\t\\treturn this.circumference - (this.progress / 100) * this.circumference;\\n\\t\\t},\\n\\t},\\n};\\n</script>\\n<style scoped>\\ncircle {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-4e9dbc79\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"frappe/public/js/frappe/file_uploader/ProgressRing.vue\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ProgressRing from '../../../../../frappe/frappe/public/js/frappe/file_uploader/ProgressRing.vue';\nconst __vue_script__ = {\n\tname: 'FilePreview',\n\tprops: ['file'],\n\tcomponents: {\n\t\tProgressRing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsrc: null,\n\t\t\toptimize: this.file.optimize\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.is_image) {\n\t\t\tif (window.FileReader) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = () => this.src = fr.result;\n\t\t\t\tfr.readAsDataURL(this.file.file_obj);\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\tfile_size(value) {\n\t\t\treturn frappe.form.formatters.FileSize(value);\n\t\t},\n\t\tfile_name(value) {\n\t\t\treturn value;\n\t\t\t// return frappe.utils.file_name_ellipsis(value, 9);\n\t\t}\n\t},\n\tcomputed: {\n\t\tis_private() {\n\t\t\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\n\t\t},\n\t\tuploaded() {\n\t\t\treturn this.file.request_succeeded;\n\t\t},\n\t\tis_image() {\n\t\t\treturn this.file.file_obj.type.startsWith('image');\n\t\t},\n\t\tis_optimizable() {\n\t\t\tlet is_svg = this.file.file_obj.type == 'image/svg+xml';\n\t\t\treturn this.is_image && !is_svg && !this.uploaded && !this.file.failed;\n\t\t},\n\t\tis_cropable() {\n\t\t\tlet croppable_types = ['image/jpeg', 'image/png'];\n\t\t\treturn !this.uploaded && !this.file.uploading && !this.file.failed && croppable_types.includes(this.file.file_obj.type);\n\t\t},\n\t\tprogress() {\n\t\t\tlet value = Math.round((this.file.progress * 100) / this.file.total);\n\t\t\tif (isNaN(value)) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\tisRTL() {\n        \treturn document.documentElement.getAttribute('dir') === 'rtl';\n    \t}\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-preview\" }, [\n    _c(\"div\", { staticClass: \"file-icon\" }, [\n      _vm.is_image\n        ? _c(\"img\", { attrs: { src: _vm.src, alt: _vm.file.name } })\n        : _c(\"div\", {\n            staticClass: \"fallback\",\n            domProps: { innerHTML: _vm._s(_vm.frappe.utils.icon(\"file\", \"md\")) }\n          })\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", [\n      _c(\"div\", [\n        _vm.file.doc\n          ? _c(\n              \"a\",\n              {\n                staticClass: \"flex\",\n                attrs: { href: _vm.file.doc.file_url, target: \"_blank\" }\n              },\n              [\n                _c(\"span\", { staticClass: \"file-name\" }, [\n                  _vm._v(_vm._s(_vm._f(\"file_name\")(_vm.file.name)))\n                ])\n              ]\n            )\n          : _c(\"span\", { staticClass: \"file-name\" }, [\n              _vm._v(_vm._s(_vm._f(\"file_name\")(_vm.file.name)))\n            ])\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _c(\"span\", { staticClass: \"file-size\" }, [\n          _vm._v(\n            \"\\n\\t\\t\\t\\t\" +\n              _vm._s(_vm._f(\"file_size\")(_vm.file.file_obj.size)) +\n              \"\\n\\t\\t\\t\"\n          )\n        ])\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _vm.file.error_message\n          ? _c(\"span\", { staticClass: \"file-error text-danger\" }, [\n              _vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.file.error_message) + \"\\n\\t\\t\\t\")\n            ])\n          : _vm._e()\n      ])\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { class: [\"file-actions\", { \"rtl-style\": _vm.isRTL }] },\n      [\n        _c(\"ProgressRing\", {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.file.uploading && !_vm.uploaded && !_vm.file.failed,\n              expression: \"file.uploading && !uploaded && !file.failed\"\n            }\n          ],\n          attrs: {\n            primary: \"var(--primary-color)\",\n            secondary: \"var(--gray-200)\",\n            radius: 24,\n            progress: _vm.progress,\n            stroke: 3\n          }\n        }),\n        _vm._v(\" \"),\n        _vm.uploaded\n          ? _c(\"div\", {\n              domProps: {\n                innerHTML: _vm._s(_vm.frappe.utils.icon(\"solid-success\", \"lg\"))\n              }\n            })\n          : _vm._e(),\n        _vm._v(\" \"),\n        _vm.file.failed\n          ? _c(\"div\", {\n              domProps: {\n                innerHTML: _vm._s(_vm.frappe.utils.icon(\"solid-error\", \"lg\"))\n              }\n            })\n          : _vm._e(),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"file-action-buttons\" }, [\n          _vm.is_cropable\n            ? _c(\"button\", {\n                staticClass: \"btn btn-crop muted\",\n                domProps: {\n                  innerHTML: _vm._s(_vm.frappe.utils.icon(\"crop\", \"md\"))\n                },\n                on: {\n                  click: function($event) {\n                    return _vm.$emit(\"toggle_image_cropper\")\n                  }\n                }\n              })\n            : _vm._e(),\n          _vm._v(\" \"),\n          !_vm.uploaded && !_vm.file.uploading && !_vm.file.failed\n            ? _c(\"button\", {\n                staticClass: \"btn muted\",\n                domProps: {\n                  innerHTML: _vm._s(_vm.frappe.utils.icon(\"delete\", \"md\"))\n                },\n                on: {\n                  click: function($event) {\n                    return _vm.$emit(\"remove\")\n                  }\n                }\n              })\n            : _vm._e()\n        ])\n      ],\n      1\n    )\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-438ca772_0\", { source: \"\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n.file-action-buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n.muted {\\n\\topacity: 0.5;\\n\\ttransition: 0.3s;\\n}\\n.muted:hover {\\n\\topacity: 1;\\n}\\n.frappe-checkbox {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding-top: 0.25rem;\\n}\\n.config-area {\\n\\tgap: 0.5rem;\\n}\\n.file-error {\\n\\tfont-size: var(--text-sm);\\n\\tfont-weight: var(--text-bold);\\n}\\n.rtl-style {\\n\\tmargin-left: 0;\\n    margin-right: auto;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/FilePreview.vue\"],\"names\":[],\"mappings\":\";AAuHA;CACA,aAAA;CACA,mBAAA;CACA,gBAAA;CACA,6BAAA;AACA;AAEA;CACA,qCAAA;AACA;AAEA;CACA,iCAAA;CACA,sCAAA;CACA,mCAAA;AACA;AAEA;CACA,6BAAA;AACA;AAEA;CACA,mCAAA;CACA,eAAA;CACA,gBAAA;CACA,gBAAA;CACA,8BAAA;CACA,cAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,iBAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,qCAAA;CACA,mCAAA;AACA;AAEA;CACA,2BAAA;CACA,6BAAA;CACA,wBAAA;CACA,oBAAA;CACA,qBAAA;CACA,4BAAA;CACA,gBAAA;AACA;AAEA;CACA,yBAAA;CACA,wBAAA;AACA;AAEA;CACA,WAAA;CACA,cAAA;CACA,iBAAA;CACA,kBAAA;AACA;AAEA;CACA,0BAAA;CACA,gBAAA;AACA;AAEA;CACA,aAAA;CACA,yBAAA;AACA;AAEA;CACA,YAAA;CACA,gBAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,yBAAA;CACA,wBAAA;CACA,aAAA;CACA,mBAAA;CACA,oBAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,yBAAA;CACA,6BAAA;AACA;AAEA;CACA,cAAA;IACA,kBAAA;AACA\",\"file\":\"FilePreview.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-preview\\\">\\n\\t\\t<div class=\\\"file-icon\\\">\\n\\t\\t\\t<img\\n\\t\\t\\t\\tv-if=\\\"is_image\\\"\\n\\t\\t\\t\\t:src=\\\"src\\\"\\n\\t\\t\\t\\t:alt=\\\"file.name\\\"\\n\\t\\t\\t>\\n\\t\\t\\t<div class=\\\"fallback\\\" v-else v-html=\\\"frappe.utils.icon('file', 'md')\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<a class=\\\"flex\\\" :href=\\\"file.doc.file_url\\\" v-if=\\\"file.doc\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<span class=\\\"file-name\\\" v-else>{{ file.name | file_name }}</span>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span class=\\\"file-size\\\">\\n\\t\\t\\t\\t\\t{{ file.file_obj.size | file_size }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<!-- <div class=\\\"flex config-area\\\">\\n\\t\\t\\t\\t<label v-if=\\\"is_optimizable\\\" class=\\\"frappe-checkbox\\\"><input type=\\\"checkbox\\\" :checked=\\\"optimize\\\" @change=\\\"$emit('toggle_optimize')\\\">Optimize</label>\\n\\t\\t\\t\\t<label class=\\\"frappe-checkbox\\\"><input type=\\\"checkbox\\\" :checked=\\\"file.private\\\" @change=\\\"$emit('toggle_private')\\\">Private</label>\\n\\t\\t\\t</div> -->\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span v-if=\\\"file.error_message\\\" class=\\\"file-error text-danger\\\">\\n\\t\\t\\t\\t\\t{{ file.error_message }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div :class=\\\"['file-actions', {'rtl-style': isRTL}]\\\">\\n\\t\\t\\t<ProgressRing\\n\\t\\t\\t\\tv-show=\\\"file.uploading && !uploaded && !file.failed\\\"\\n\\t\\t\\t\\tprimary=\\\"var(--primary-color)\\\"\\n\\t\\t\\t\\tsecondary=\\\"var(--gray-200)\\\"\\n\\t\\t\\t\\t:radius=\\\"24\\\"\\n\\t\\t\\t\\t:progress=\\\"progress\\\"\\n\\t\\t\\t\\t:stroke=\\\"3\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<div v-if=\\\"uploaded\\\" v-html=\\\"frappe.utils.icon('solid-success', 'lg')\\\"></div>\\n\\t\\t\\t<div v-if=\\\"file.failed\\\" v-html=\\\"frappe.utils.icon('solid-error', 'lg')\\\"></div>\\n\\t\\t\\t<div class=\\\"file-action-buttons\\\">\\n\\t\\t\\t\\t<button v-if=\\\"is_cropable\\\" class=\\\"btn btn-crop muted\\\" @click=\\\"$emit('toggle_image_cropper')\\\" v-html=\\\"frappe.utils.icon('crop', 'md')\\\"></button>\\n\\t\\t\\t\\t<button v-if=\\\"!uploaded && !file.uploading && !file.failed\\\" class=\\\"btn muted\\\" @click=\\\"$emit('remove')\\\" v-html=\\\"frappe.utils.icon('delete', 'md')\\\"></button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ProgressRing from '../../../../../frappe/frappe/public/js/frappe/file_uploader/ProgressRing.vue';\\nexport default {\\n\\tname: 'FilePreview',\\n\\tprops: ['file'],\\n\\tcomponents: {\\n\\t\\tProgressRing\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsrc: null,\\n\\t\\t\\toptimize: this.file.optimize\\n\\t\\t}\\n\\t},\\n\\tmounted() {\\n\\t\\tif (this.is_image) {\\n\\t\\t\\tif (window.FileReader) {\\n\\t\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\t\\tfr.onload = () => this.src = fr.result;\\n\\t\\t\\t\\tfr.readAsDataURL(this.file.file_obj);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tfilters: {\\n\\t\\tfile_size(value) {\\n\\t\\t\\treturn frappe.form.formatters.FileSize(value);\\n\\t\\t},\\n\\t\\tfile_name(value) {\\n\\t\\t\\treturn value;\\n\\t\\t\\t// return frappe.utils.file_name_ellipsis(value, 9);\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tis_private() {\\n\\t\\t\\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\\n\\t\\t},\\n\\t\\tuploaded() {\\n\\t\\t\\treturn this.file.request_succeeded;\\n\\t\\t},\\n\\t\\tis_image() {\\n\\t\\t\\treturn this.file.file_obj.type.startsWith('image');\\n\\t\\t},\\n\\t\\tis_optimizable() {\\n\\t\\t\\tlet is_svg = this.file.file_obj.type == 'image/svg+xml';\\n\\t\\t\\treturn this.is_image && !is_svg && !this.uploaded && !this.file.failed;\\n\\t\\t},\\n\\t\\tis_cropable() {\\n\\t\\t\\tlet croppable_types = ['image/jpeg', 'image/png'];\\n\\t\\t\\treturn !this.uploaded && !this.file.uploading && !this.file.failed && croppable_types.includes(this.file.file_obj.type);\\n\\t\\t},\\n\\t\\tprogress() {\\n\\t\\t\\tlet value = Math.round((this.file.progress * 100) / this.file.total);\\n\\t\\t\\tif (isNaN(value)) {\\n\\t\\t\\t\\tvalue = 0;\\n\\t\\t\\t}\\n\\t\\t\\treturn value;\\n\\t\\t},\\n\\t\\tisRTL() {\\n        \\treturn document.documentElement.getAttribute('dir') === 'rtl';\\n    \\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n\\n.file-action-buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n\\n.muted {\\n\\topacity: 0.5;\\n\\ttransition: 0.3s;\\n}\\n\\n.muted:hover {\\n\\topacity: 1;\\n}\\n\\n.frappe-checkbox {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding-top: 0.25rem;\\n}\\n\\n.config-area {\\n\\tgap: 0.5rem;\\n}\\n\\n.file-error {\\n\\tfont-size: var(--text-sm);\\n\\tfont-weight: var(--text-bold);\\n}\\n\\n.rtl-style {\\n\\tmargin-left: 0;\\n    margin-right: auto;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"../akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/FilePreview.vue\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: \"TreeNode\",\n\tprops: [\"node\", \"selected_node\"],\n\tcomponents: {\n\t\tTreeNode: () => frappe.ui.components.TreeNode,\n\t},\n\tcomputed: {\n\t\ticon() {\n\t\t\tlet icons = {\n\t\t\t\topen: frappe.utils.icon(\"folder-open\", \"md\"),\n\t\t\t\tclosed: frappe.utils.icon(\"folder-normal\", \"md\"),\n\t\t\t\tleaf: frappe.utils.icon(\"primitive-dot\", \"xs\"),\n\t\t\t\tsearch: frappe.utils.icon(\"search\"),\n\t\t\t};\n\n\t\t\tif (this.node.by_search) return icons.search;\n\t\t\tif (this.node.is_leaf) return icons.leaf;\n\t\t\tif (this.node.open) return icons.open;\n\t\t\treturn icons.closed;\n\t\t},\n\t},\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"tree-node\", class: { opened: _vm.node.open } },\n    [\n      _c(\n        \"span\",\n        {\n          staticClass: \"tree-link\",\n          class: { active: _vm.node.value === _vm.selected_node.value },\n          attrs: { disabled: _vm.node.fetching },\n          on: {\n            click: function($event) {\n              return _vm.$emit(\"node-click\", _vm.node)\n            }\n          }\n        },\n        [\n          _c(\"div\", { domProps: { innerHTML: _vm._s(_vm.icon) } }),\n          _vm._v(\" \"),\n          _c(\"a\", { staticClass: \"tree-label\" }, [\n            _vm._v(_vm._s(_vm.node.label))\n          ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"ul\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.node.open,\n              expression: \"node.open\"\n            }\n          ],\n          staticClass: \"tree-children\"\n        },\n        [\n          _vm._l(_vm.node.children, function(n) {\n            return _c(\"TreeNode\", {\n              key: n.value,\n              attrs: { node: n, selected_node: _vm.selected_node },\n              on: {\n                \"node-click\": function(n) {\n                  return _vm.$emit(\"node-click\", n)\n                },\n                \"load-more\": function(n) {\n                  return _vm.$emit(\"load-more\", n)\n                }\n              }\n            })\n          }),\n          _vm._v(\" \"),\n          _vm.node.has_more_children\n            ? _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-xs btn-load-more\",\n                  attrs: { disabled: _vm.node.children_loading },\n                  on: {\n                    click: function($event) {\n                      return _vm.$emit(\"load-more\", _vm.node)\n                    }\n                  }\n                },\n                [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.node.children_loading\n                          ? _vm.__(\"Loading...\")\n                          : _vm.__(\"Load more\")\n                      ) +\n                      \"\\n\\t\\t\"\n                  )\n                ]\n              )\n            : _vm._e()\n        ],\n        2\n      )\n    ]\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-50ef8742_0\", { source: \"\\n.btn-load-more[data-v-50ef8742] {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n\", map: {\"version\":3,\"sources\":[\"frappe/public/js/frappe/file_uploader/TreeNode.vue\"],\"names\":[],\"mappings\":\";AAwDA;CACA,mBAAA;CACA,kBAAA;AACA\",\"file\":\"TreeNode.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"tree-node\\\" :class=\\\"{ opened: node.open }\\\">\\n\\t\\t<span\\n\\t\\t\\tclass=\\\"tree-link\\\"\\n\\t\\t\\t@click=\\\"$emit('node-click', node)\\\"\\n\\t\\t\\t:class=\\\"{ active: node.value === selected_node.value }\\\"\\n\\t\\t\\t:disabled=\\\"node.fetching\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-html=\\\"icon\\\"></div>\\n\\t\\t\\t<a class=\\\"tree-label\\\">{{ node.label }}</a>\\n\\t\\t</span>\\n\\t\\t<ul class=\\\"tree-children\\\" v-show=\\\"node.open\\\">\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tv-for=\\\"n in node.children\\\"\\n\\t\\t\\t\\t:key=\\\"n.value\\\"\\n\\t\\t\\t\\t:node=\\\"n\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"(n) => $emit('node-click', n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"(n) => $emit('load-more', n)\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<button\\n\\t\\t\\t\\tclass=\\\"btn btn-xs btn-load-more\\\"\\n\\t\\t\\t\\tv-if=\\\"node.has_more_children\\\"\\n\\t\\t\\t\\t@click=\\\"$emit('load-more', node)\\\"\\n\\t\\t\\t\\t:disabled=\\\"node.children_loading\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ node.children_loading ? __(\\\"Loading...\\\") : __(\\\"Load more\\\") }}\\n\\t\\t\\t</button>\\n\\t\\t</ul>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"TreeNode\\\",\\n\\tprops: [\\\"node\\\", \\\"selected_node\\\"],\\n\\tcomponents: {\\n\\t\\tTreeNode: () => frappe.ui.components.TreeNode,\\n\\t},\\n\\tcomputed: {\\n\\t\\ticon() {\\n\\t\\t\\tlet icons = {\\n\\t\\t\\t\\topen: frappe.utils.icon(\\\"folder-open\\\", \\\"md\\\"),\\n\\t\\t\\t\\tclosed: frappe.utils.icon(\\\"folder-normal\\\", \\\"md\\\"),\\n\\t\\t\\t\\tleaf: frappe.utils.icon(\\\"primitive-dot\\\", \\\"xs\\\"),\\n\\t\\t\\t\\tsearch: frappe.utils.icon(\\\"search\\\"),\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (this.node.by_search) return icons.search;\\n\\t\\t\\tif (this.node.is_leaf) return icons.leaf;\\n\\t\\t\\tif (this.node.open) return icons.open;\\n\\t\\t\\treturn icons.closed;\\n\\t\\t},\\n\\t},\\n};\\n</script>\\n<style scoped>\\n.btn-load-more {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-50ef8742\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"frappe/public/js/frappe/file_uploader/TreeNode.vue\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TreeNode from \"./TreeNode.vue\";\n\nconst __vue_script__ = {\n\tname: \"FileBrowser\",\n\tcomponents: {\n\t\tTreeNode,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnode: {\n\t\t\t\tlabel: __(\"Home\"),\n\t\t\t\tvalue: \"Home\",\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_start: 0,\n\t\t\t\tchildren_loading: false,\n\t\t\t\tis_leaf: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfetched: false,\n\t\t\t\topen: false,\n\t\t\t\tfiltered: true,\n\t\t\t},\n\t\t\tselected_node: {},\n\t\t\tsearch_text: \"\",\n\t\t\tpage_length: 10,\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.toggle_node(this.node);\n\t},\n\tmethods: {\n\t\ttoggle_node(node) {\n\t\t\tif (!node.fetched && !node.is_leaf) {\n\t\t\t\tnode.fetching = true;\n\t\t\t\tnode.children_start = 0;\n\t\t\t\tnode.children_loading = false;\n\t\t\t\tthis.get_files_in_folder(node.value, 0).then(({ files, has_more }) => {\n\t\t\t\t\tnode.open = true;\n\t\t\t\t\tnode.children = files;\n\t\t\t\t\tnode.fetched = true;\n\t\t\t\t\tnode.fetching = false;\n\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnode.open = !node.open;\n\t\t\t\tthis.select_node(node);\n\t\t\t}\n\t\t},\n\t\tload_more(node) {\n\t\t\tif (node.has_more_children) {\n\t\t\t\tlet start = node.children_start;\n\t\t\t\tnode.children_loading = true;\n\t\t\t\tthis.get_files_in_folder(node.value, start).then(({ files, has_more }) => {\n\t\t\t\t\tnode.children = node.children.concat(files);\n\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t\tnode.children_loading = false;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tselect_node(node) {\n\t\t\tif (node.is_leaf) {\n\t\t\t\tthis.selected_node = node;\n\t\t\t}\n\t\t},\n\t\tget_files_in_folder(folder, start) {\n\t\t\treturn frappe\n\t\t\t\t.call(\"frappe.core.api.file.get_files_in_folder\", {\n\t\t\t\t\tfolder,\n\t\t\t\t\tstart,\n\t\t\t\t\tpage_length: this.page_length,\n\t\t\t\t})\n\t\t\t\t.then((r) => {\n\t\t\t\t\tlet { files = [], has_more = false } = r.message || {};\n\t\t\t\t\tfiles.sort((a, b) => {\n\t\t\t\t\t\tif (a.is_folder && b.is_folder) {\n\t\t\t\t\t\t\treturn a.modified < b.modified ? -1 : 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a.is_folder) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (b.is_folder) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\t\t\t\t\tfiles = files.map((file) => this.make_file_node(file));\n\t\t\t\t\treturn { files, has_more };\n\t\t\t\t});\n\t\t},\n\t\tsearch_by_name: frappe.utils.debounce(function () {\n\t\t\tif (this.search_text === \"\") {\n\t\t\t\tthis.node = this.folder_node;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.search_text.length < 3) return;\n\t\t\tfrappe\n\t\t\t\t.call(\"frappe.core.api.file.get_files_by_search_text\", {\n\t\t\t\t\ttext: this.search_text,\n\t\t\t\t})\n\t\t\t\t.then((r) => {\n\t\t\t\t\tlet files = r.message || [];\n\t\t\t\t\tfiles = files.map((file) => this.make_file_node(file));\n\t\t\t\t\tif (!this.folder_node) {\n\t\t\t\t\t\tthis.folder_node = this.node;\n\t\t\t\t\t}\n\t\t\t\t\tthis.node = {\n\t\t\t\t\t\tlabel: __(\"Search Results\"),\n\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\tchildren: files,\n\t\t\t\t\t\tby_search: true,\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tfiltered: true,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t}, 300),\n\t\tmake_file_node(file) {\n\t\t\tlet filename = file.file_name || file.name;\n\t\t\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\n\t\t\treturn {\n\t\t\t\tlabel: label,\n\t\t\t\tfilename: filename,\n\t\t\t\tfile_url: file.file_url,\n\t\t\t\tvalue: file.name,\n\t\t\t\tis_leaf: !file.is_folder,\n\t\t\t\tfetched: !file.is_folder, // fetched if node is leaf\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_loading: false,\n\t\t\t\tchildren_start: 0,\n\t\t\t\topen: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfiltered: true,\n\t\t\t};\n\t\t},\n\t},\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-browser\" }, [\n    _c(\"div\", [\n      _c(\n        \"a\",\n        {\n          staticClass: \"text-muted text-medium\",\n          attrs: { href: \"\" },\n          on: {\n            click: function($event) {\n              $event.preventDefault()\n              return _vm.$emit(\"hide-browser\")\n            }\n          }\n        },\n        [\n          _vm._v(\n            \"\\n\\t\\t\\t\" + _vm._s(_vm.__(\"\u2190 Back to upload files\")) + \"\\n\\t\\t\"\n          )\n        ]\n      )\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"file-browser-list\" },\n      [\n        _c(\"div\", { staticClass: \"file-filter\" }, [\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.search_text,\n                expression: \"search_text\"\n              }\n            ],\n            staticClass: \"form-control input-xs\",\n            attrs: {\n              type: \"search\",\n              placeholder: _vm.__(\"Search by filename or extension\")\n            },\n            domProps: { value: _vm.search_text },\n            on: {\n              input: [\n                function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.search_text = $event.target.value\n                },\n                _vm.search_by_name\n              ]\n            }\n          })\n        ]),\n        _vm._v(\" \"),\n        _c(\"TreeNode\", {\n          staticClass: \"tree with-skeleton\",\n          attrs: { node: _vm.node, selected_node: _vm.selected_node },\n          on: {\n            \"node-click\": function(n) {\n              return _vm.toggle_node(n)\n            },\n            \"load-more\": function(n) {\n              return _vm.load_more(n)\n            }\n          }\n        })\n      ],\n      1\n    )\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-1183ad38_0\", { source: \"\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n\", map: {\"version\":3,\"sources\":[\"frappe/public/js/frappe/file_uploader/FileBrowser.vue\"],\"names\":[],\"mappings\":\";AAuKA;CACA,aAAA;CACA,gBAAA;CACA,gBAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;CACA,cAAA;CACA,YAAA;CACA,eAAA;CACA,gBAAA;CACA,oBAAA;AACA\",\"file\":\"FileBrowser.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-browser\\\">\\n\\t\\t<div>\\n\\t\\t\\t<a href=\\\"\\\" class=\\\"text-muted text-medium\\\" @click.prevent=\\\"$emit('hide-browser')\\\">\\n\\t\\t\\t\\t{{ __(\\\"\u2190 Back to upload files\\\") }}\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-browser-list\\\">\\n\\t\\t\\t<div class=\\\"file-filter\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t\\t\\tclass=\\\"form-control input-xs\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"__('Search by filename or extension')\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"search_text\\\"\\n\\t\\t\\t\\t\\t@input=\\\"search_by_name\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tclass=\\\"tree with-skeleton\\\"\\n\\t\\t\\t\\t:node=\\\"node\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"(n) => toggle_node(n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"(n) => load_more(n)\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nimport TreeNode from \\\"./TreeNode.vue\\\";\\n\\nexport default {\\n\\tname: \\\"FileBrowser\\\",\\n\\tcomponents: {\\n\\t\\tTreeNode,\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tnode: {\\n\\t\\t\\t\\tlabel: __(\\\"Home\\\"),\\n\\t\\t\\t\\tvalue: \\\"Home\\\",\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tis_leaf: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfetched: false,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfiltered: true,\\n\\t\\t\\t},\\n\\t\\t\\tselected_node: {},\\n\\t\\t\\tsearch_text: \\\"\\\",\\n\\t\\t\\tpage_length: 10,\\n\\t\\t};\\n\\t},\\n\\tmounted() {\\n\\t\\tthis.toggle_node(this.node);\\n\\t},\\n\\tmethods: {\\n\\t\\ttoggle_node(node) {\\n\\t\\t\\tif (!node.fetched && !node.is_leaf) {\\n\\t\\t\\t\\tnode.fetching = true;\\n\\t\\t\\t\\tnode.children_start = 0;\\n\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, 0).then(({ files, has_more }) => {\\n\\t\\t\\t\\t\\tnode.open = true;\\n\\t\\t\\t\\t\\tnode.children = files;\\n\\t\\t\\t\\t\\tnode.fetched = true;\\n\\t\\t\\t\\t\\tnode.fetching = false;\\n\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode.open = !node.open;\\n\\t\\t\\t\\tthis.select_node(node);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tload_more(node) {\\n\\t\\t\\tif (node.has_more_children) {\\n\\t\\t\\t\\tlet start = node.children_start;\\n\\t\\t\\t\\tnode.children_loading = true;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, start).then(({ files, has_more }) => {\\n\\t\\t\\t\\t\\tnode.children = node.children.concat(files);\\n\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tselect_node(node) {\\n\\t\\t\\tif (node.is_leaf) {\\n\\t\\t\\t\\tthis.selected_node = node;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tget_files_in_folder(folder, start) {\\n\\t\\t\\treturn frappe\\n\\t\\t\\t\\t.call(\\\"frappe.core.api.file.get_files_in_folder\\\", {\\n\\t\\t\\t\\t\\tfolder,\\n\\t\\t\\t\\t\\tstart,\\n\\t\\t\\t\\t\\tpage_length: this.page_length,\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.then((r) => {\\n\\t\\t\\t\\t\\tlet { files = [], has_more = false } = r.message || {};\\n\\t\\t\\t\\t\\tfiles.sort((a, b) => {\\n\\t\\t\\t\\t\\t\\tif (a.is_folder && b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn a.modified < b.modified ? -1 : 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (a.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn -1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tfiles = files.map((file) => this.make_file_node(file));\\n\\t\\t\\t\\t\\treturn { files, has_more };\\n\\t\\t\\t\\t});\\n\\t\\t},\\n\\t\\tsearch_by_name: frappe.utils.debounce(function () {\\n\\t\\t\\tif (this.search_text === \\\"\\\") {\\n\\t\\t\\t\\tthis.node = this.folder_node;\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (this.search_text.length < 3) return;\\n\\t\\t\\tfrappe\\n\\t\\t\\t\\t.call(\\\"frappe.core.api.file.get_files_by_search_text\\\", {\\n\\t\\t\\t\\t\\ttext: this.search_text,\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.then((r) => {\\n\\t\\t\\t\\t\\tlet files = r.message || [];\\n\\t\\t\\t\\t\\tfiles = files.map((file) => this.make_file_node(file));\\n\\t\\t\\t\\t\\tif (!this.folder_node) {\\n\\t\\t\\t\\t\\t\\tthis.folder_node = this.node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.node = {\\n\\t\\t\\t\\t\\t\\tlabel: __(\\\"Search Results\\\"),\\n\\t\\t\\t\\t\\t\\tvalue: \\\"\\\",\\n\\t\\t\\t\\t\\t\\tchildren: files,\\n\\t\\t\\t\\t\\t\\tby_search: true,\\n\\t\\t\\t\\t\\t\\topen: true,\\n\\t\\t\\t\\t\\t\\tfiltered: true,\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\t\\t}, 300),\\n\\t\\tmake_file_node(file) {\\n\\t\\t\\tlet filename = file.file_name || file.name;\\n\\t\\t\\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tlabel: label,\\n\\t\\t\\t\\tfilename: filename,\\n\\t\\t\\t\\tfile_url: file.file_url,\\n\\t\\t\\t\\tvalue: file.name,\\n\\t\\t\\t\\tis_leaf: !file.is_folder,\\n\\t\\t\\t\\tfetched: !file.is_folder, // fetched if node is leaf\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfiltered: true,\\n\\t\\t\\t};\\n\\t\\t},\\n\\t},\\n};\\n</script>\\n\\n<style>\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"frappe/public/js/frappe/file_uploader/FileBrowser.vue\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: \"WebLink\",\n\tdata() {\n\t\treturn {\n\t\t\turl: \"\",\n\t\t};\n\t},\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-web-link margin-bottom\" }, [\n    _c(\n      \"a\",\n      {\n        staticClass: \"text-muted text-medium\",\n        attrs: { href: \"\" },\n        on: {\n          click: function($event) {\n            $event.preventDefault()\n            return _vm.$emit(\"hide-web-link\")\n          }\n        }\n      },\n      [_vm._v(\"\\n\\t\\t\" + _vm._s(_vm.__(\"\u2190 Back to upload files\")) + \"\\n\\t\")]\n    ),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"input-group\" }, [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.url,\n            expression: \"url\"\n          }\n        ],\n        staticClass: \"form-control\",\n        attrs: { type: \"text\", placeholder: _vm.__(\"Attach a web link\") },\n        domProps: { value: _vm.url },\n        on: {\n          input: function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.url = $event.target.value\n          }\n        }\n      })\n    ])\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-0c146ac5_0\", { source: \"\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"frappe/public/js/frappe/file_uploader/WebLink.vue\"],\"names\":[],\"mappings\":\";AA2BA;CACA,gBAAA;AACA\",\"file\":\"WebLink.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-web-link margin-bottom\\\">\\n\\t\\t<a href class=\\\"text-muted text-medium\\\" @click.prevent=\\\"$emit('hide-web-link')\\\">\\n\\t\\t\\t{{ __(\\\"\u2190 Back to upload files\\\") }}\\n\\t\\t</a>\\n\\t\\t<div class=\\\"input-group\\\">\\n\\t\\t\\t<input\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\t:placeholder=\\\"__('Attach a web link')\\\"\\n\\t\\t\\t\\tv-model=\\\"url\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"WebLink\\\",\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\turl: \\\"\\\",\\n\\t\\t};\\n\\t},\\n};\\n</script>\\n\\n<style>\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"frappe/public/js/frappe/file_uploader/WebLink.vue\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* global gapi:false, google:false */\nexport default class GoogleDrivePicker {\n\tconstructor({ pickerCallback, enabled, appId, developerKey, clientId } = {}) {\n\t\tthis.scope = [\"https://www.googleapis.com/auth/drive.readonly\"];\n\t\tthis.pickerApiLoaded = false;\n\t\tthis.enabled = enabled;\n\t\tthis.appId = appId;\n\t\tthis.pickerCallback = pickerCallback;\n\t\tthis.developerKey = developerKey;\n\t\tthis.clientId = clientId;\n\t}\n\n\tloadPicker() {\n\t\t// load the google API library\n\t\t$.ajax({\n\t\t\tmethod: \"GET\",\n\t\t\turl: \"https://apis.google.com/js/api.js\",\n\t\t\tdataType: \"script\",\n\t\t\tcache: true,\n\t\t}).done(this.loadGapi.bind(this));\n\t}\n\n\tloadGapi() {\n\t\t// load auth and picker libraries\n\t\tif (!frappe.boot.user.google_drive_token) {\n\t\t\tgapi.load(\"auth\", this.onAuthApiLoad.bind(this));\n\t\t}\n\n\t\tgapi.load(\"picker\", this.onPickerApiLoad.bind(this));\n\t}\n\n\tonAuthApiLoad() {\n\t\tgapi.auth.authorize(\n\t\t\t{\n\t\t\t\tclient_id: this.clientId,\n\t\t\t\tscope: this.scope,\n\t\t\t\timmediate: false,\n\t\t\t},\n\t\t\tthis.handleAuthResult.bind(this)\n\t\t);\n\t}\n\n\thandleAuthResult(authResult) {\n\t\tlet error_map = {\n\t\t\tpopup_closed_by_user: __(\"Google Authentication was closed abruptly by the user\"),\n\t\t};\n\n\t\tif (authResult && !authResult.error) {\n\t\t\tfrappe.boot.user.google_drive_token = authResult.access_token;\n\t\t\tthis.createPicker();\n\t\t} else {\n\t\t\tlet error = error_map[authResult.error] || __(\"Google Authentication Error\");\n\t\t\tfrappe.throw(error);\n\t\t}\n\t}\n\n\tonPickerApiLoad() {\n\t\tthis.pickerApiLoaded = true;\n\t\tthis.createPicker();\n\t}\n\n\tcreatePicker() {\n\t\t// Create and render a Picker object for searching images.\n\t\tif (this.pickerApiLoaded && frappe.boot.user.google_drive_token) {\n\t\t\tthis.view = new google.picker.DocsView(google.picker.ViewId.DOCS)\n\t\t\t\t.setParent(\"root\") // show the root folder by default\n\t\t\t\t.setIncludeFolders(true); // also show folders, not just files\n\n\t\t\tthis.picker = new google.picker.PickerBuilder()\n\t\t\t\t.setAppId(this.appId)\n\t\t\t\t.setDeveloperKey(this.developerKey)\n\t\t\t\t.setOAuthToken(frappe.boot.user.google_drive_token)\n\t\t\t\t.addView(this.view)\n\t\t\t\t.setLocale(frappe.boot.lang)\n\t\t\t\t.setCallback(this.pickerCallback)\n\t\t\t\t.build();\n\n\t\t\tthis.picker.setVisible(true);\n\t\t\tthis.setupHide();\n\t\t}\n\t}\n\n\tsetupHide() {\n\t\tlet bg = $(\".picker-dialog-bg\");\n\n\t\tfor (let el of bg) {\n\t\t\tel.onclick = () => {\n\t\t\t\tthis.picker.setVisible(false);\n\t\t\t\tthis.picker.Ob({\n\t\t\t\t\taction: google.picker.Action.CANCEL,\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t}\n}\n", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Cropper from \"cropperjs\";\nconst __vue_script__ = {\n\tname: \"ImageCropper\",\n\tprops: [\"file\", \"fixed_aspect_ratio\"],\n\tdata() {\n\t\tlet aspect_ratio = this.fixed_aspect_ratio != null ? this.fixed_aspect_ratio : NaN;\n\t\treturn {\n\t\t\tsrc: null,\n\t\t\tcropper: null,\n\t\t\timage: null,\n\t\t\taspect_ratio,\n\t\t};\n\t},\n\twatch: {\n\t\taspect_ratio(value) {\n\t\t\tif (this.cropper) {\n\t\t\t\tthis.cropper.setAspectRatio(value);\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tif (window.FileReader) {\n\t\t\tlet fr = new FileReader();\n\t\t\tfr.onload = () => (this.src = fr.result);\n\t\t\tfr.readAsDataURL(this.file.cropper_file);\n\t\t}\n\t\tlet crop_box = this.file.crop_box_data;\n\t\tthis.image = this.$refs.image;\n\t\tthis.image.onload = () => {\n\t\t\tthis.cropper = new Cropper(this.image, {\n\t\t\t\tzoomable: false,\n\t\t\t\tscalable: false,\n\t\t\t\tviewMode: 1,\n\t\t\t\tdata: crop_box,\n\t\t\t\taspectRatio: this.aspect_ratio,\n\t\t\t});\n\t\t\twindow.cropper = this.cropper;\n\t\t};\n\t},\n\tcomputed: {\n\t\taspect_ratio_buttons() {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"1:1\"),\n\t\t\t\t\tvalue: 1,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"4:3\"),\n\t\t\t\t\tvalue: 4 / 3,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"16:9\"),\n\t\t\t\t\tvalue: 16 / 9,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"Free\"),\n\t\t\t\t\tvalue: NaN,\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t},\n\tmethods: {\n\t\tcrop_image() {\n\t\t\tthis.file.crop_box_data = this.cropper.getData();\n\t\t\tconst canvas = this.cropper.getCroppedCanvas();\n\t\t\tconst file_type = this.file.file_obj.type;\n\t\t\tcanvas.toBlob((blob) => {\n\t\t\t\tvar cropped_file_obj = new File([blob], this.file.name, {\n\t\t\t\t\ttype: blob.type,\n\t\t\t\t});\n\t\t\t\tthis.file.file_obj = cropped_file_obj;\n\t\t\t\tthis.$emit(\"toggle_image_cropper\");\n\t\t\t}, file_type);\n\t\t},\n\t},\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\"div\", [\n      _c(\"img\", { ref: \"image\", attrs: { src: _vm.src, alt: _vm.file.name } })\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"image-cropper-actions\" }, [\n      _c(\"div\", [\n        _vm.fixed_aspect_ratio == null\n          ? _c(\n              \"div\",\n              { staticClass: \"btn-group\" },\n              _vm._l(_vm.aspect_ratio_buttons, function(button) {\n                return _c(\n                  \"button\",\n                  {\n                    key: button.label,\n                    staticClass: \"btn btn-default btn-sm\",\n                    class: {\n                      active: isNaN(_vm.aspect_ratio)\n                        ? isNaN(button.value)\n                        : button.value === _vm.aspect_ratio\n                    },\n                    attrs: { type: \"button\" },\n                    on: {\n                      click: function($event) {\n                        _vm.aspect_ratio = button.value\n                      }\n                    }\n                  },\n                  [_vm._v(\"\\n\\t\\t\\t\\t\\t\" + _vm._s(button.label) + \"\\n\\t\\t\\t\\t\")]\n                )\n              }),\n              0\n            )\n          : _vm._e()\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _vm.fixed_aspect_ratio == null\n          ? _c(\n              \"button\",\n              {\n                staticClass: \"btn btn-sm margin-right\",\n                on: {\n                  click: function($event) {\n                    return _vm.$emit(\"toggle_image_cropper\")\n                  }\n                }\n              },\n              [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.__(\"Back\")) + \"\\n\\t\\t\\t\")]\n            )\n          : _vm._e(),\n        _vm._v(\" \"),\n        _c(\n          \"button\",\n          {\n            staticClass: \"btn btn-primary btn-sm\",\n            on: { click: _vm.crop_image }\n          },\n          [_vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.__(\"Crop\")) + \"\\n\\t\\t\\t\")]\n        )\n      ])\n    ])\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-5967879b_0\", { source: \"\\nimg {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\tmax-height: 600px;\\n}\\n.image-cropper-actions {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tmargin-top: var(--margin-md);\\n}\\n.cropper-container {\\n\\tdirection: ltr!important;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/ImageCropper.vue\"],\"names\":[],\"mappings\":\";AAuHA;CACA,cAAA;CACA,eAAA;CACA,iBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,8BAAA;CACA,4BAAA;AACA;AAEA;CACA,wBAAA;AACA\",\"file\":\"ImageCropper.vue\",\"sourcesContent\":[\"<template>\\n\\t<div>\\n\\t\\t<div>\\n\\t\\t\\t<img ref=\\\"image\\\" :src=\\\"src\\\" :alt=\\\"file.name\\\" />\\n\\t\\t</div>\\n\\t\\t<div class=\\\"image-cropper-actions\\\">\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<div class=\\\"btn-group\\\" v-if=\\\"fixed_aspect_ratio == null\\\">\\n\\t\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\t\\tv-for=\\\"button in aspect_ratio_buttons\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"button\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"btn btn-default btn-sm\\\"\\n\\t\\t\\t\\t\\t\\t:class=\\\"{\\n\\t\\t\\t\\t\\t\\t\\tactive: isNaN(aspect_ratio)\\n\\t\\t\\t\\t\\t\\t\\t\\t? isNaN(button.value)\\n\\t\\t\\t\\t\\t\\t\\t\\t: button.value === aspect_ratio,\\n\\t\\t\\t\\t\\t\\t}\\\"\\n\\t\\t\\t\\t\\t\\t:key=\\\"button.label\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"aspect_ratio = button.value\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{{ button.label }}\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\tclass=\\\"btn btn-sm margin-right\\\"\\n\\t\\t\\t\\t\\t@click=\\\"$emit('toggle_image_cropper')\\\"\\n\\t\\t\\t\\t\\tv-if=\\\"fixed_aspect_ratio == null\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{{ __(\\\"Back\\\") }}\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button class=\\\"btn btn-primary btn-sm\\\" @click=\\\"crop_image\\\">\\n\\t\\t\\t\\t\\t{{ __(\\\"Crop\\\") }}\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport Cropper from \\\"cropperjs\\\";\\nexport default {\\n\\tname: \\\"ImageCropper\\\",\\n\\tprops: [\\\"file\\\", \\\"fixed_aspect_ratio\\\"],\\n\\tdata() {\\n\\t\\tlet aspect_ratio = this.fixed_aspect_ratio != null ? this.fixed_aspect_ratio : NaN;\\n\\t\\treturn {\\n\\t\\t\\tsrc: null,\\n\\t\\t\\tcropper: null,\\n\\t\\t\\timage: null,\\n\\t\\t\\taspect_ratio,\\n\\t\\t};\\n\\t},\\n\\twatch: {\\n\\t\\taspect_ratio(value) {\\n\\t\\t\\tif (this.cropper) {\\n\\t\\t\\t\\tthis.cropper.setAspectRatio(value);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\tmounted() {\\n\\t\\tif (window.FileReader) {\\n\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\tfr.onload = () => (this.src = fr.result);\\n\\t\\t\\tfr.readAsDataURL(this.file.cropper_file);\\n\\t\\t}\\n\\t\\tlet crop_box = this.file.crop_box_data;\\n\\t\\tthis.image = this.$refs.image;\\n\\t\\tthis.image.onload = () => {\\n\\t\\t\\tthis.cropper = new Cropper(this.image, {\\n\\t\\t\\t\\tzoomable: false,\\n\\t\\t\\t\\tscalable: false,\\n\\t\\t\\t\\tviewMode: 1,\\n\\t\\t\\t\\tdata: crop_box,\\n\\t\\t\\t\\taspectRatio: this.aspect_ratio,\\n\\t\\t\\t});\\n\\t\\t\\twindow.cropper = this.cropper;\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\taspect_ratio_buttons() {\\n\\t\\t\\treturn [\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tlabel: __(\\\"1:1\\\"),\\n\\t\\t\\t\\t\\tvalue: 1,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tlabel: __(\\\"4:3\\\"),\\n\\t\\t\\t\\t\\tvalue: 4 / 3,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tlabel: __(\\\"16:9\\\"),\\n\\t\\t\\t\\t\\tvalue: 16 / 9,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tlabel: __(\\\"Free\\\"),\\n\\t\\t\\t\\t\\tvalue: NaN,\\n\\t\\t\\t\\t},\\n\\t\\t\\t];\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tcrop_image() {\\n\\t\\t\\tthis.file.crop_box_data = this.cropper.getData();\\n\\t\\t\\tconst canvas = this.cropper.getCroppedCanvas();\\n\\t\\t\\tconst file_type = this.file.file_obj.type;\\n\\t\\t\\tcanvas.toBlob((blob) => {\\n\\t\\t\\t\\tvar cropped_file_obj = new File([blob], this.file.name, {\\n\\t\\t\\t\\t\\ttype: blob.type,\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tthis.file.file_obj = cropped_file_obj;\\n\\t\\t\\t\\tthis.$emit(\\\"toggle_image_cropper\\\");\\n\\t\\t\\t}, file_type);\\n\\t\\t},\\n\\t},\\n};\\n</script>\\n<style>\\nimg {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\tmax-height: 600px;\\n}\\n\\n.image-cropper-actions {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tmargin-top: var(--margin-md);\\n}\\n\\n.cropper-container {\\n\\tdirection: ltr!important;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"../akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/ImageCropper.vue\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport FilePreview from './FilePreview.vue';\nimport FileBrowser from '../../../../../frappe/frappe/public/js/frappe/file_uploader/FileBrowser.vue';\nimport WebLink from '../../../../../frappe/frappe/public/js/frappe/file_uploader/WebLink.vue';\nimport GoogleDrivePicker from '../../../../../frappe/frappe/public/js/integrations/google_drive_picker';\nimport ImageCropper from './ImageCropper.vue';\n\nconst __vue_script__ = {\n\tname: 'FileUploader',\n\tprops: {\n\t\tshow_upload_button: {\n\t\t\tdefault: true\n\t\t},\n\t\tdisable_file_browser: {\n\t\t\tdefault: false\n\t\t},\n\t\tallow_multiple: {\n\t\t\tdefault: true\n\t\t},\n\t\tas_dataurl: {\n\t\t\tdefault: false\n\t\t},\n\t\tdoctype: {\n\t\t\tdefault: null\n\t\t},\n\t\tdocname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfieldname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfolder: {\n\t\t\tdefault: 'Home'\n\t\t},\n\t\tmethod: {\n\t\t\tdefault: null\n\t\t},\n\t\ton_success: {\n\t\t\tdefault: null\n\t\t},\n\t\tmake_attachments_public: {\n\t\t\tdefault: true,\n\t\t},\n\t\trestrictions: {\n\t\t\tdefault: () => ({\n\t\t\t\tmax_file_size: null, // 2048 -> 2KB\n\t\t\t\tmax_number_of_files: null,\n\t\t\t\tallowed_file_types: [], // ['image/*', 'video/*', '.jpg', '.gif', '.pdf'],\n\t\t\t\tcrop_image_aspect_ratio: null // 1, 16 / 9, 4 / 3, NaN (free)\n\t\t\t})\n\t\t},\n\t\tattach_doc_image: {\n\t\t\tdefault: false\n\t\t},\n\t\tupload_notes: {\n\t\t\tdefault: null // \"Images or video, upto 2MB\"\n\t\t}\n\t},\n\tcomponents: {\n\t\tFilePreview,\n\t\tFileBrowser,\n\t\tWebLink,\n\t\tImageCropper\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfiles: [],\n\t\t\tis_dragging: false,\n\t\t\tcurrently_uploading: -1,\n\t\t\tshow_file_browser: false,\n\t\t\tshow_web_link: false,\n\t\t\tshow_image_cropper: false,\n\t\t\tcrop_image_with_index: -1,\n\t\t\ttrigger_upload: false,\n\t\t\tclose_dialog: false,\n\t\t\thide_dialog_footer: false,\n\t\t\tallow_take_photo: false,\n\t\t\tallow_web_link: true,\n\t\t\tgoogle_drive_settings: {\n\t\t\t\tenabled: false\n\t\t\t},\n\t\t\twrapper_ready: false\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.allow_take_photo = window.navigator.mediaDevices;\n\t\tif (frappe.user_id !== \"Guest\") {\n\t\t\tfrappe.call({\n\t\t\t\t// method only available after login\n\t\t\t\tmethod: \"frappe.integrations.doctype.google_settings.google_settings.get_file_picker_settings\",\n\t\t\t\tcallback: (resp) => {\n\t\t\t\t\tif (!resp.exc) {\n\t\t\t\t\t\tthis.google_drive_settings = resp.message;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (this.restrictions.max_file_size == null) {\n\t\t\tfrappe.call('frappe.core.api.file.get_max_file_size')\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.restrictions.max_file_size = Number(res.message);\n\t\t\t\t});\n\t\t}\n\t\tif (this.restrictions.max_number_of_files == null && this.doctype) {\n\t\t\tthis.restrictions.max_number_of_files = frappe.get_meta(this.doctype)?.max_attachments;\n\t\t}\n\t},\n\twatch: {\n\t\tfiles(newvalue, oldvalue) {\n\t\t\tif (!this.allow_multiple && newvalue.length > 1) {\n\t\t\t\tthis.files = [newvalue[newvalue.length - 1]];\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tupload_complete() {\n\t\t\treturn this.files.length > 0\n\t\t\t\t&& this.files.every(\n\t\t\t\t\tfile => file.total !== 0 && file.progress === file.total);\n\t\t}\n\t},\n\tmethods: {\n\t\tdragover() {\n\t\t\tthis.is_dragging = true;\n\t\t},\n\t\tdragleave() {\n\t\t\tthis.is_dragging = false;\n\t\t},\n\t\tdropfiles(e) {\n\t\t\tthis.is_dragging = false;\n\t\t\tthis.add_files(e.dataTransfer.files);\n\t\t},\n\t\tbrowse_files() {\n\t\t\tthis.$refs.file_input.click();\n\t\t},\n\t\ton_file_input(e) {\n\t\t\tthis.add_files(this.$refs.file_input.files);\n\t\t},\n\t\tremove_file(file) {\n\t\t\tthis.files = this.files.filter(f => f !== file);\n\t\t},\n\t\ttoggle_image_cropper(index) {\n\t\t\tthis.crop_image_with_index = this.show_image_cropper ? -1 : index;\n\t\t\tthis.hide_dialog_footer = !this.show_image_cropper;\n\t\t\tthis.show_image_cropper = !this.show_image_cropper;\n\t\t},\n\t\ttoggle_all_private() {\n\t\t\tlet flag;\n\t\t\tlet private_values = this.files.filter(file => file.private);\n\t\t\tif (private_values.length < this.files.length) {\n\t\t\t\t// there are some private and some public\n\t\t\t\t// set all to private\n\t\t\t\tflag = true;\n\t\t\t} else {\n\t\t\t\t// all are private, set all to public\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tthis.files = this.files.map(file => {\n\t\t\t\tfile.private = flag;\n\t\t\t\treturn file;\n\t\t\t});\n\t\t},\n\t\tshow_max_files_number_warning(file) {\n\t\t\tconsole.warn(\n\t\t\t\t`File skipped because it exceeds the allowed specified limit of ${max_number_of_files} uploads`,\n\t\t\t\tfile,\n\t\t\t);\n\t\t\tif (this.doctype) {\n\t\t\t\tMSG = __('File \"{0}\" was skipped because only {1} uploads are allowed for DocType \"{2}\"', [file.name, max_number_of_files, this.doctype])\n\t\t\t} else {\n\t\t\t\tMSG = __('File \"{0}\" was skipped because only {1} uploads are allowed', [file.name, max_number_of_files])\n\t\t\t}\n\t\t\tfrappe.show_alert({\n\t\t\t\tmessage: MSG,\n\t\t\t\tindicator: \"orange\",\n\t\t\t});\n\t\t},\n\t\tadd_files(file_array) {\n\t\t\tlet files = Array.from(file_array)\n\t\t\t\t.filter(this.check_restrictions)\n\t\t\t\t.map(file => {\n\t\t\t\t\tlet is_image = file.type.startsWith('image');\n\t\t\t\t\tlet size_kb = file.size / 1024;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfile_obj: file,\n\t\t\t\t\t\tcropper_file: file,\n\t\t\t\t\t\tcrop_box_data: null,\n\t\t\t\t\t\toptimize: size_kb > 200 && is_image && !file.type.includes('svg'),\n\t\t\t\t\t\tname: file.name,\n\t\t\t\t\t\tdoc: null,\n\t\t\t\t\t\tprogress: 0,\n\t\t\t\t\t\ttotal: 0,\n\t\t\t\t\t\tfailed: false,\n\t\t\t\t\t\trequest_succeeded: false,\n\t\t\t\t\t\terror_message: null,\n\t\t\t\t\t\tuploading: false,\n\t\t\t\t\t\tprivate: false,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t// pop extra files as per FileUploader.restrictions.max_number_of_files\n\t\t\tmax_number_of_files = this.restrictions.max_number_of_files;\n\t\t\tif (max_number_of_files && files.length > max_number_of_files) {\n\t\t\t\tfiles.slice(max_number_of_files).forEach(file => {\n\t\t\t\t\tthis.show_max_files_number_warning(file, this.doctype);\n\t\t\t\t});\n\n\t\t\t\tfiles = files.slice(0, max_number_of_files);\n\t\t\t}\n\n\t\t\tthis.files = this.files.concat(files);\n\t\t\t// if only one file is allowed and crop_image_aspect_ratio is set, open cropper immediately\n\t\t\tif (this.files.length === 1 && !this.allow_multiple && this.restrictions.crop_image_aspect_ratio != null) {\n\t\t\t\tif (!this.files[0].file_obj.type.includes('svg')) {\n\t\t\t\t\tthis.toggle_image_cropper(0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcheck_restrictions(file) {\n\t\t\tlet { max_file_size, allowed_file_types = [] } = this.restrictions;\n\n\t\t\tlet is_correct_type = true;\n\t\t\tlet valid_file_size = true;\n\n\t\t\tif (allowed_file_types && allowed_file_types.length) {\n\t\t\t\tis_correct_type = allowed_file_types.some((type) => {\n\t\t\t\t\t// is this is a mime-type\n\t\t\t\t\tif (type.includes('/')) {\n\t\t\t\t\t\tif (!file.type) return false;\n\t\t\t\t\t\treturn file.type.match(type);\n\t\t\t\t\t}\n\n\t\t\t\t\t// otherwise this is likely an extension\n\t\t\t\t\tif (type[0] === '.') {\n\t\t\t\t\t\treturn file.name.endsWith(type);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (max_file_size && file.size != null) {\n\t\t\t\tvalid_file_size = file.size < max_file_size;\n\t\t\t}\n\n\t\t\tif (!is_correct_type) {\n\t\t\t\tconsole.warn('File skipped because of invalid file type', file);\n\t\t\t\tfrappe.show_alert({\n\t\t\t\t\tmessage: __('File \"{0}\" was skipped because of invalid file type', [file.name]),\n\t\t\t\t\tindicator: 'orange'\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (!valid_file_size) {\n\t\t\t\tconsole.warn('File skipped because of invalid file size', file.size, file);\n\t\t\t\tfrappe.show_alert({\n\t\t\t\t\tmessage: __('File \"{0}\" was skipped because size exceeds {1} MB', [file.name, max_file_size / (1024 * 1024)]),\n\t\t\t\t\tindicator: 'orange'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn is_correct_type && valid_file_size;\n\t\t},\n\t\tupload_files() {\n\t\t\tif (this.show_file_browser) {\n\t\t\t\treturn this.upload_via_file_browser();\n\t\t\t}\n\t\t\tif (this.show_web_link) {\n\t\t\t\treturn this.upload_via_web_link();\n\t\t\t}\n\t\t\tif (this.as_dataurl) {\n\t\t\t\treturn this.return_as_dataurl();\n\t\t\t}\n\t\t\treturn frappe.run_serially(\n\t\t\t\tthis.files.map(\n\t\t\t\t\t(file, i) =>\n\t\t\t\t\t\t() => this.upload_file(file, i)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\tupload_via_file_browser() {\n\t\t\tlet selected_file = this.$refs.file_browser.selected_node;\n\t\t\tif (!selected_file.value) {\n\t\t\t\tfrappe.msgprint(__('Click on a file to select it.'));\n\t\t\t\tthis.close_dialog = true;\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\t\t\tthis.close_dialog = true;\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url: selected_file.file_url\n\t\t\t});\n\t\t},\n\t\tupload_via_web_link() {\n\t\t\tlet file_url = this.$refs.web_link.url;\n\t\t\tif (!file_url) {\n\t\t\t\tfrappe.msgprint(__('Invalid URL'));\n\t\t\t\tthis.close_dialog = true;\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\t\t\tfile_url = decodeURI(file_url)\n\t\t\tthis.close_dialog = true;\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url\n\t\t\t});\n\t\t},\n\t\treturn_as_dataurl() {\n\t\t\tlet promises = this.files.map(file =>\n\t\t\t\tfrappe.dom.file_to_base64(file.file_obj)\n\t\t\t\t\t.then(dataurl => {\n\t\t\t\t\t\tfile.dataurl = dataurl;\n\t\t\t\t\t\tthis.on_success && this.on_success(file);\n\t\t\t\t\t})\n\t\t\t);\n\t\t\tthis.close_dialog = true;\n\t\t\treturn Promise.all(promises);\n\t\t},\n\t\tupload_file(file, i) {\n\t\t\tthis.currently_uploading = i;\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet xhr = new XMLHttpRequest();\n\t\t\t\txhr.upload.addEventListener('loadstart', (e) => {\n\t\t\t\t\tfile.uploading = true;\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('progress', (e) => {\n\t\t\t\t\tif (e.lengthComputable) {\n\t\t\t\t\t\tfile.progress = e.loaded;\n\t\t\t\t\t\tfile.total = e.total;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('load', (e) => {\n\t\t\t\t\tfile.uploading = false;\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\txhr.addEventListener('error', (e) => {\n\t\t\t\t\tfile.failed = true;\n\t\t\t\t\treject();\n\t\t\t\t})\n\t\t\t\txhr.onreadystatechange = () => {\n\t\t\t\t\tif (xhr.readyState == XMLHttpRequest.DONE) {\n\t\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\t\tfile.request_succeeded = true;\n\t\t\t\t\t\t\tlet r = null;\n\t\t\t\t\t\t\tlet file_doc = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tr = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t\tif (r.message.doctype === 'File') {\n\t\t\t\t\t\t\t\t\tfile_doc = r.message;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tr = xhr.responseText;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfile.doc = file_doc;\n\n\t\t\t\t\t\t\tif (this.on_success) {\n\t\t\t\t\t\t\t\tthis.on_success(file_doc, r);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (i == this.files.length - 1 && this.files.every(file => file.request_succeeded)) {\n\t\t\t\t\t\t\t\tthis.close_dialog = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tlet response = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tfile.error_message = `Not permitted. ${response._error_message || ''}`;\n\n\t\t\t\t\t\t} else if (xhr.status === 413) {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tfile.error_message = 'Size exceeds the maximum allowed file size.';\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tfile.error_message = xhr.status === 0 ? 'XMLHttpRequest Error' : `${xhr.status} : ${xhr.statusText}`;\n\n\t\t\t\t\t\t\tlet error = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\terror = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\t// pass\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfrappe.request.cleanup({}, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\txhr.open('POST', '/api/method/upload_file', true);\n\t\t\t\txhr.setRequestHeader('Accept', 'application/json');\n\t\t\t\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\n\n\t\t\t\tlet form_data = new FormData();\n\t\t\t\tif (file.file_obj) {\n\t\t\t\t\tform_data.append('file', file.file_obj, file.name);\n\t\t\t\t}\n\t\t\t\tform_data.append('is_private', +file.private);\n\t\t\t\tform_data.append('folder', this.folder);\n\n\t\t\t\tif (file.file_url) {\n\t\t\t\t\tform_data.append('file_url', file.file_url);\n\t\t\t\t}\n\n\t\t\t\tif (file.file_name) {\n\t\t\t\t\tform_data.append('file_name', file.file_name);\n\t\t\t\t}\n\n\t\t\t\tif (this.doctype && this.docname) {\n\t\t\t\t\tform_data.append('doctype', this.doctype);\n\t\t\t\t\tform_data.append('docname', this.docname);\n\t\t\t\t}\n\n\t\t\t\tif (this.fieldname) {\n\t\t\t\t\tform_data.append('fieldname', this.fieldname);\n\t\t\t\t}\n\n\t\t\t\tif (this.method) {\n\t\t\t\t\tform_data.append('method', this.method);\n\t\t\t\t}\n\n\t\t\t\tif (file.optimize) {\n\t\t\t\t\tform_data.append('optimize', true);\n\t\t\t\t}\n\n\t\t\t\tif (this.attach_doc_image) {\n\t\t\t\t\tform_data.append('max_width', 200);\n\t\t\t\t\tform_data.append('max_height', 200);\n\t\t\t\t}\n\n\t\t\t\txhr.send(form_data);\n\t\t\t});\n\t\t},\n\t\tcapture_image() {\n\t\t\tconst capture = new frappe.ui.Capture({\n\t\t\t\tanimate: false,\n\t\t\t\terror: true\n\t\t\t});\n\t\t\tcapture.show();\n\t\t\tcapture.submit(data_urls => {\n\t\t\t\tdata_urls.forEach(data_url => {\n\t\t\t\t\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\n\t\t\t\t\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\n\t\t\t\t\t\tthis.add_files([file])\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshow_google_drive_picker() {\n\t\t\tthis.close_dialog = true;\n\t\t\tlet google_drive = new GoogleDrivePicker({\n\t\t\t\tpickerCallback: data => this.google_drive_callback(data),\n\t\t\t\t...this.google_drive_settings\n\t\t\t});\n\t\t\tgoogle_drive.loadPicker();\n\t\t},\n\t\tgoogle_drive_callback(data) {\n\t\t\tif (data.action == google.picker.Action.PICKED) {\n\t\t\t\tthis.upload_file({\n\t\t\t\t\tfile_url: data.docs[0].url,\n\t\t\t\t\tfile_name: data.docs[0].name\n\t\t\t\t});\n\t\t\t} else if (data.action == google.picker.Action.CANCEL) {\n\t\t\t\tcur_frm.attachments.new_attachment()\n\t\t\t}\n\t\t},\n\t\turl_to_file(url, filename, mime_type) {\n\t\t\treturn fetch(url)\n\t\t\t\t\t.then(res => res.arrayBuffer())\n\t\t\t\t\t.then(buffer => new File([buffer], filename, { type: mime_type }));\n\t\t},\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"file-uploader\",\n      on: {\n        dragover: function($event) {\n          $event.preventDefault()\n          return _vm.dragover.apply(null, arguments)\n        },\n        dragleave: function($event) {\n          $event.preventDefault()\n          return _vm.dragleave.apply(null, arguments)\n        },\n        drop: function($event) {\n          $event.preventDefault()\n          return _vm.dropfiles.apply(null, arguments)\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value:\n                _vm.files.length === 0 &&\n                !_vm.show_file_browser &&\n                !_vm.show_web_link,\n              expression:\n                \"files.length === 0 && !show_file_browser && !show_web_link\"\n            }\n          ],\n          staticClass: \"file-upload-area\"\n        },\n        [\n          !_vm.is_dragging\n            ? _c(\"div\", [\n                _c(\"div\", { staticClass: \"text-center\" }, [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.__(\"Drag and drop files here or upload from\")\n                      ) +\n                      \"\\n\\t\\t\\t\"\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"mt-2 text-center\" }, [\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn btn-file-upload\",\n                      on: { click: _vm.browse_files }\n                    },\n                    [\n                      _c(\n                        \"svg\",\n                        {\n                          attrs: {\n                            width: \"30\",\n                            height: \"30\",\n                            viewBox: \"0 0 30 30\",\n                            fill: \"none\",\n                            xmlns: \"http://www.w3.org/2000/svg\"\n                          }\n                        },\n                        [\n                          _c(\"circle\", {\n                            attrs: {\n                              cx: \"15\",\n                              cy: \"15\",\n                              r: \"15\",\n                              fill: \"url(#paint0_linear)\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M13.5 22V19\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M16.5 22V19\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M10.5 22H19.5\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M7.5 16H22.5\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d:\n                                \"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"defs\",\n                            [\n                              _c(\n                                \"linearGradient\",\n                                {\n                                  attrs: {\n                                    id: \"paint0_linear\",\n                                    x1: \"0\",\n                                    y1: \"0\",\n                                    x2: \"0\",\n                                    y2: \"30\",\n                                    gradientUnits: \"userSpaceOnUse\"\n                                  }\n                                },\n                                [\n                                  _c(\"stop\", {\n                                    attrs: { \"stop-color\": \"#2C9AF1\" }\n                                  }),\n                                  _vm._v(\" \"),\n                                  _c(\"stop\", {\n                                    attrs: {\n                                      offset: \"1\",\n                                      \"stop-color\": \"#2490EF\"\n                                    }\n                                  })\n                                ],\n                                1\n                              )\n                            ],\n                            1\n                          )\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"mt-1\" }, [\n                        _vm._v(_vm._s(_vm.__(\"My Device\")))\n                      ])\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"input\", {\n                    ref: \"file_input\",\n                    staticClass: \"hidden\",\n                    attrs: {\n                      type: \"file\",\n                      multiple: _vm.allow_multiple,\n                      accept: (_vm.restrictions.allowed_file_types || []).join(\n                        \", \"\n                      )\n                    },\n                    on: { change: _vm.on_file_input }\n                  }),\n                  _vm._v(\" \"),\n                  !_vm.disable_file_browser\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: {\n                            click: function($event) {\n                              _vm.show_file_browser = true\n                            }\n                          }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#48BB74\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\",\n                                  stroke: \"white\",\n                                  \"stroke-miterlimit\": \"10\",\n                                  \"stroke-linecap\": \"square\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\",\n                                  stroke: \"white\",\n                                  \"stroke-miterlimit\": \"10\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Library\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.allow_web_link\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: {\n                            click: function($event) {\n                              _vm.show_web_link = true\n                            }\n                          }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#ECAC4B\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d: \"M12.0469 17.9543L17.9558 12.0454\",\n                                  stroke: \"white\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\",\n                                  stroke: \"white\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\",\n                                  stroke: \"white\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Link\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.allow_take_photo\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: { click: _vm.capture_image }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#CE315B\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\",\n                                  stroke: \"white\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"16\",\n                                  r: \"2.5\",\n                                  stroke: \"white\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Camera\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.google_drive_settings.enabled\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: { click: _vm.show_google_drive_picker }\n                        },\n                        [\n                          _c(\"svg\", { attrs: { width: \"30\", height: \"30\" } }, [\n                            _c(\"image\", {\n                              attrs: {\n                                href:\n                                  \"/assets/frappe/icons/social/google_drive.svg\",\n                                width: \"30\",\n                                height: \"30\"\n                              }\n                            })\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Google Drive\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e()\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"text-muted text-medium\" }, [\n                  _vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.upload_notes) + \"\\n\\t\\t\\t\")\n                ])\n              ])\n            : _c(\"div\", [\n                _vm._v(\n                  \"\\n\\t\\t\\t\" + _vm._s(_vm.__(\"Drop files here\")) + \"\\n\\t\\t\"\n                )\n              ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value:\n                _vm.files.length &&\n                !_vm.show_file_browser &&\n                !_vm.show_web_link,\n              expression: \"files.length && !show_file_browser && !show_web_link\"\n            }\n          ],\n          staticClass: \"file-preview-area\"\n        },\n        [\n          !_vm.show_image_cropper\n            ? _c(\n                \"div\",\n                { staticClass: \"file-preview-container\" },\n                _vm._l(_vm.files, function(file, i) {\n                  return _c(\"FilePreview\", {\n                    key: file.name,\n                    attrs: { file: file },\n                    on: {\n                      remove: function($event) {\n                        return _vm.remove_file(file)\n                      },\n                      toggle_private: function($event) {\n                        file.private = !file.private\n                      },\n                      toggle_optimize: function($event) {\n                        file.optimize = !file.optimize\n                      },\n                      toggle_image_cropper: function($event) {\n                        return _vm.toggle_image_cropper(i)\n                      }\n                    }\n                  })\n                }),\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.show_upload_button && _vm.currently_uploading === -1\n            ? _c(\"div\", { staticClass: \"flex align-center\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-primary btn-sm margin-right\",\n                    on: { click: _vm.upload_files }\n                  },\n                  [\n                    _vm.files.length === 1\n                      ? _c(\"span\", [\n                          _vm._v(\n                            \"\\n\\t\\t\\t\\t\\t\" +\n                              _vm._s(_vm.__(\"Upload file\")) +\n                              \"\\n\\t\\t\\t\\t\"\n                          )\n                        ])\n                      : _c(\"span\", [\n                          _vm._v(\n                            \"\\n\\t\\t\\t\\t\\t\" +\n                              _vm._s(\n                                _vm.__(\"Upload {0} files\", [_vm.files.length])\n                              ) +\n                              \"\\n\\t\\t\\t\\t\"\n                          )\n                        ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"text-muted text-medium\" }, [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.__(\n                          \"Click on the lock icon to toggle public/private\"\n                        )\n                      ) +\n                      \"\\n\\t\\t\\t\"\n                  )\n                ])\n              ])\n            : _vm._e()\n        ]\n      ),\n      _vm._v(\" \"),\n      _vm.show_image_cropper && _vm.wrapper_ready\n        ? _c(\"ImageCropper\", {\n            attrs: {\n              file: _vm.files[_vm.crop_image_with_index],\n              fixed_aspect_ratio: _vm.restrictions.crop_image_aspect_ratio\n            },\n            on: {\n              toggle_image_cropper: function($event) {\n                return _vm.toggle_image_cropper(-1)\n              },\n              upload_after_crop: function($event) {\n                _vm.trigger_upload = true\n              }\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.show_file_browser && !_vm.disable_file_browser\n        ? _c(\"FileBrowser\", {\n            ref: \"file_browser\",\n            on: {\n              \"hide-browser\": function($event) {\n                _vm.show_file_browser = false\n              }\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.show_web_link\n        ? _c(\"WebLink\", {\n            ref: \"web_link\",\n            on: {\n              \"hide-web-link\": function($event) {\n                _vm.show_web_link = false\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-597614b2_0\", { source: \"\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n\", map: {\"version\":3,\"sources\":[\"../akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/FileUploader.vue\"],\"names\":[],\"mappings\":\";AAulBA;CACA,iBAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,2CAAA;CACA,mCAAA;CACA,eAAA;CACA,iCAAA;AACA;AAEA;CACA,6BAAA;CACA,YAAA;CACA,gBAAA;CACA,yBAAA;AACA\",\"file\":\"FileUploader.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-uploader\\\"\\n\\t\\t@dragover.prevent=\\\"dragover\\\"\\n\\t\\t@dragleave.prevent=\\\"dragleave\\\"\\n\\t\\t@drop.prevent=\\\"dropfiles\\\"\\n\\t>\\n\\t\\t<div\\n\\t\\t\\tclass=\\\"file-upload-area\\\"\\n\\t\\t\\tv-show=\\\"files.length === 0 && !show_file_browser && !show_web_link\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-if=\\\"!is_dragging\\\">\\n\\t\\t\\t\\t<div class=\\\"text-center\\\">\\n\\t\\t\\t\\t\\t{{ __('Drag and drop files here or upload from') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"mt-2 text-center\\\">\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" @click=\\\"browse_files\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"url(#paint0_linear)\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M16.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M10.5 22H19.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M7.5 16H22.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<defs>\\n\\t\\t\\t\\t\\t\\t\\t<linearGradient id=\\\"paint0_linear\\\" x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"30\\\" gradientUnits=\\\"userSpaceOnUse\\\">\\n\\t\\t\\t\\t\\t\\t\\t<stop stop-color=\\\"#2C9AF1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<stop offset=\\\"1\\\" stop-color=\\\"#2490EF\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</linearGradient>\\n\\t\\t\\t\\t\\t\\t\\t</defs>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('My Device') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\ttype=\\\"file\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"hidden\\\"\\n\\t\\t\\t\\t\\t\\tref=\\\"file_input\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"on_file_input\\\"\\n\\t\\t\\t\\t\\t\\t:multiple=\\\"allow_multiple\\\"\\n\\t\\t\\t\\t\\t\\t:accept=\\\"(restrictions.allowed_file_types || []).join(', ')\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"!disable_file_browser\\\" @click=\\\"show_file_browser = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#48BB74\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"square\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Library') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"allow_web_link\\\" @click=\\\"show_web_link = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#ECAC4B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M12.0469 17.9543L17.9558 12.0454\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Link') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"allow_take_photo\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"capture_image\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#CE315B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\\\" stroke=\\\"white\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"16\\\" r=\\\"2.5\\\" stroke=\\\"white\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Camera') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"google_drive_settings.enabled\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"show_google_drive_picker\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\">\\n\\t\\t\\t\\t\\t\\t\\t<image href=\\\"/assets/frappe/icons/social/google_drive.svg\\\" width=\\\"30\\\" height=\\\"30\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Google Drive') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ upload_notes }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t{{ __('Drop files here') }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-preview-area\\\" v-show=\\\"files.length && !show_file_browser && !show_web_link\\\">\\n\\t\\t\\t<div class=\\\"file-preview-container\\\" v-if=\\\"!show_image_cropper\\\">\\n\\t\\t\\t\\t<FilePreview\\n\\t\\t\\t\\t\\tv-for=\\\"(file, i) in files\\\"\\n\\t\\t\\t\\t\\t:key=\\\"file.name\\\"\\n\\t\\t\\t\\t\\t:file=\\\"file\\\"\\n\\t\\t\\t\\t\\t@remove=\\\"remove_file(file)\\\"\\n\\t\\t\\t\\t\\t@toggle_private=\\\"file.private = !file.private\\\"\\n\\t\\t\\t\\t\\t@toggle_optimize=\\\"file.optimize = !file.optimize\\\"\\n\\t\\t\\t\\t\\t@toggle_image_cropper=\\\"toggle_image_cropper(i)\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex align-center\\\" v-if=\\\"show_upload_button && currently_uploading === -1\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\tclass=\\\"btn btn-primary btn-sm margin-right\\\"\\n\\t\\t\\t\\t\\t@click=\\\"upload_files\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span v-if=\\\"files.length === 1\\\">\\n\\t\\t\\t\\t\\t\\t{{ __('Upload file') }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span v-else>\\n\\t\\t\\t\\t\\t\\t{{ __('Upload {0} files', [files.length]) }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ __('Click on the lock icon to toggle public/private') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<ImageCropper\\n\\t\\t\\tv-if=\\\"show_image_cropper && wrapper_ready\\\"\\n\\t\\t\\t:file=\\\"files[crop_image_with_index]\\\"\\n\\t\\t\\t:fixed_aspect_ratio=\\\"restrictions.crop_image_aspect_ratio\\\"\\n\\t\\t\\t@toggle_image_cropper=\\\"toggle_image_cropper(-1)\\\"\\n\\t\\t\\t@upload_after_crop=\\\"trigger_upload=true\\\"\\n\\t\\t/>\\n\\t\\t<FileBrowser\\n\\t\\t\\tref=\\\"file_browser\\\"\\n\\t\\t\\tv-if=\\\"show_file_browser && !disable_file_browser\\\"\\n\\t\\t\\t@hide-browser=\\\"show_file_browser = false\\\"\\n\\t\\t/>\\n\\t\\t<WebLink\\n\\t\\t\\tref=\\\"web_link\\\"\\n\\t\\t\\tv-if=\\\"show_web_link\\\"\\n\\t\\t\\t@hide-web-link=\\\"show_web_link = false\\\"\\n\\t\\t/>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport FilePreview from './FilePreview.vue';\\nimport FileBrowser from '../../../../../frappe/frappe/public/js/frappe/file_uploader/FileBrowser.vue';\\nimport WebLink from '../../../../../frappe/frappe/public/js/frappe/file_uploader/WebLink.vue';\\nimport GoogleDrivePicker from '../../../../../frappe/frappe/public/js/integrations/google_drive_picker';\\nimport ImageCropper from './ImageCropper.vue';\\n\\nexport default {\\n\\tname: 'FileUploader',\\n\\tprops: {\\n\\t\\tshow_upload_button: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tdisable_file_browser: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tallow_multiple: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tas_dataurl: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tdoctype: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tdocname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfieldname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfolder: {\\n\\t\\t\\tdefault: 'Home'\\n\\t\\t},\\n\\t\\tmethod: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\ton_success: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tmake_attachments_public: {\\n\\t\\t\\tdefault: true,\\n\\t\\t},\\n\\t\\trestrictions: {\\n\\t\\t\\tdefault: () => ({\\n\\t\\t\\t\\tmax_file_size: null, // 2048 -> 2KB\\n\\t\\t\\t\\tmax_number_of_files: null,\\n\\t\\t\\t\\tallowed_file_types: [], // ['image/*', 'video/*', '.jpg', '.gif', '.pdf'],\\n\\t\\t\\t\\tcrop_image_aspect_ratio: null // 1, 16 / 9, 4 / 3, NaN (free)\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tattach_doc_image: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tupload_notes: {\\n\\t\\t\\tdefault: null // \\\"Images or video, upto 2MB\\\"\\n\\t\\t}\\n\\t},\\n\\tcomponents: {\\n\\t\\tFilePreview,\\n\\t\\tFileBrowser,\\n\\t\\tWebLink,\\n\\t\\tImageCropper\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tfiles: [],\\n\\t\\t\\tis_dragging: false,\\n\\t\\t\\tcurrently_uploading: -1,\\n\\t\\t\\tshow_file_browser: false,\\n\\t\\t\\tshow_web_link: false,\\n\\t\\t\\tshow_image_cropper: false,\\n\\t\\t\\tcrop_image_with_index: -1,\\n\\t\\t\\ttrigger_upload: false,\\n\\t\\t\\tclose_dialog: false,\\n\\t\\t\\thide_dialog_footer: false,\\n\\t\\t\\tallow_take_photo: false,\\n\\t\\t\\tallow_web_link: true,\\n\\t\\t\\tgoogle_drive_settings: {\\n\\t\\t\\t\\tenabled: false\\n\\t\\t\\t},\\n\\t\\t\\twrapper_ready: false\\n\\t\\t}\\n\\t},\\n\\tcreated() {\\n\\t\\tthis.allow_take_photo = window.navigator.mediaDevices;\\n\\t\\tif (frappe.user_id !== \\\"Guest\\\") {\\n\\t\\t\\tfrappe.call({\\n\\t\\t\\t\\t// method only available after login\\n\\t\\t\\t\\tmethod: \\\"frappe.integrations.doctype.google_settings.google_settings.get_file_picker_settings\\\",\\n\\t\\t\\t\\tcallback: (resp) => {\\n\\t\\t\\t\\t\\tif (!resp.exc) {\\n\\t\\t\\t\\t\\t\\tthis.google_drive_settings = resp.message;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\tif (this.restrictions.max_file_size == null) {\\n\\t\\t\\tfrappe.call('frappe.core.api.file.get_max_file_size')\\n\\t\\t\\t\\t.then(res => {\\n\\t\\t\\t\\t\\tthis.restrictions.max_file_size = Number(res.message);\\n\\t\\t\\t\\t});\\n\\t\\t}\\n\\t\\tif (this.restrictions.max_number_of_files == null && this.doctype) {\\n\\t\\t\\tthis.restrictions.max_number_of_files = frappe.get_meta(this.doctype)?.max_attachments;\\n\\t\\t}\\n\\t},\\n\\twatch: {\\n\\t\\tfiles(newvalue, oldvalue) {\\n\\t\\t\\tif (!this.allow_multiple && newvalue.length > 1) {\\n\\t\\t\\t\\tthis.files = [newvalue[newvalue.length - 1]];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tupload_complete() {\\n\\t\\t\\treturn this.files.length > 0\\n\\t\\t\\t\\t&& this.files.every(\\n\\t\\t\\t\\t\\tfile => file.total !== 0 && file.progress === file.total);\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tdragover() {\\n\\t\\t\\tthis.is_dragging = true;\\n\\t\\t},\\n\\t\\tdragleave() {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t},\\n\\t\\tdropfiles(e) {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t\\tthis.add_files(e.dataTransfer.files);\\n\\t\\t},\\n\\t\\tbrowse_files() {\\n\\t\\t\\tthis.$refs.file_input.click();\\n\\t\\t},\\n\\t\\ton_file_input(e) {\\n\\t\\t\\tthis.add_files(this.$refs.file_input.files);\\n\\t\\t},\\n\\t\\tremove_file(file) {\\n\\t\\t\\tthis.files = this.files.filter(f => f !== file);\\n\\t\\t},\\n\\t\\ttoggle_image_cropper(index) {\\n\\t\\t\\tthis.crop_image_with_index = this.show_image_cropper ? -1 : index;\\n\\t\\t\\tthis.hide_dialog_footer = !this.show_image_cropper;\\n\\t\\t\\tthis.show_image_cropper = !this.show_image_cropper;\\n\\t\\t},\\n\\t\\ttoggle_all_private() {\\n\\t\\t\\tlet flag;\\n\\t\\t\\tlet private_values = this.files.filter(file => file.private);\\n\\t\\t\\tif (private_values.length < this.files.length) {\\n\\t\\t\\t\\t// there are some private and some public\\n\\t\\t\\t\\t// set all to private\\n\\t\\t\\t\\tflag = true;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// all are private, set all to public\\n\\t\\t\\t\\tflag = false;\\n\\t\\t\\t}\\n\\t\\t\\tthis.files = this.files.map(file => {\\n\\t\\t\\t\\tfile.private = flag;\\n\\t\\t\\t\\treturn file;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tshow_max_files_number_warning(file) {\\n\\t\\t\\tconsole.warn(\\n\\t\\t\\t\\t`File skipped because it exceeds the allowed specified limit of ${max_number_of_files} uploads`,\\n\\t\\t\\t\\tfile,\\n\\t\\t\\t);\\n\\t\\t\\tif (this.doctype) {\\n\\t\\t\\t\\tMSG = __('File \\\"{0}\\\" was skipped because only {1} uploads are allowed for DocType \\\"{2}\\\"', [file.name, max_number_of_files, this.doctype])\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tMSG = __('File \\\"{0}\\\" was skipped because only {1} uploads are allowed', [file.name, max_number_of_files])\\n\\t\\t\\t}\\n\\t\\t\\tfrappe.show_alert({\\n\\t\\t\\t\\tmessage: MSG,\\n\\t\\t\\t\\tindicator: \\\"orange\\\",\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tadd_files(file_array) {\\n\\t\\t\\tlet files = Array.from(file_array)\\n\\t\\t\\t\\t.filter(this.check_restrictions)\\n\\t\\t\\t\\t.map(file => {\\n\\t\\t\\t\\t\\tlet is_image = file.type.startsWith('image');\\n\\t\\t\\t\\t\\tlet size_kb = file.size / 1024;\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tfile_obj: file,\\n\\t\\t\\t\\t\\t\\tcropper_file: file,\\n\\t\\t\\t\\t\\t\\tcrop_box_data: null,\\n\\t\\t\\t\\t\\t\\toptimize: size_kb > 200 && is_image && !file.type.includes('svg'),\\n\\t\\t\\t\\t\\t\\tname: file.name,\\n\\t\\t\\t\\t\\t\\tdoc: null,\\n\\t\\t\\t\\t\\t\\tprogress: 0,\\n\\t\\t\\t\\t\\t\\ttotal: 0,\\n\\t\\t\\t\\t\\t\\tfailed: false,\\n\\t\\t\\t\\t\\t\\trequest_succeeded: false,\\n\\t\\t\\t\\t\\t\\terror_message: null,\\n\\t\\t\\t\\t\\t\\tuploading: false,\\n\\t\\t\\t\\t\\t\\tprivate: false,\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t// pop extra files as per FileUploader.restrictions.max_number_of_files\\n\\t\\t\\tmax_number_of_files = this.restrictions.max_number_of_files;\\n\\t\\t\\tif (max_number_of_files && files.length > max_number_of_files) {\\n\\t\\t\\t\\tfiles.slice(max_number_of_files).forEach(file => {\\n\\t\\t\\t\\t\\tthis.show_max_files_number_warning(file, this.doctype);\\n\\t\\t\\t\\t});\\n\\n\\t\\t\\t\\tfiles = files.slice(0, max_number_of_files);\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.files = this.files.concat(files);\\n\\t\\t\\t// if only one file is allowed and crop_image_aspect_ratio is set, open cropper immediately\\n\\t\\t\\tif (this.files.length === 1 && !this.allow_multiple && this.restrictions.crop_image_aspect_ratio != null) {\\n\\t\\t\\t\\tif (!this.files[0].file_obj.type.includes('svg')) {\\n\\t\\t\\t\\t\\tthis.toggle_image_cropper(0);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcheck_restrictions(file) {\\n\\t\\t\\tlet { max_file_size, allowed_file_types = [] } = this.restrictions;\\n\\n\\t\\t\\tlet is_correct_type = true;\\n\\t\\t\\tlet valid_file_size = true;\\n\\n\\t\\t\\tif (allowed_file_types && allowed_file_types.length) {\\n\\t\\t\\t\\tis_correct_type = allowed_file_types.some((type) => {\\n\\t\\t\\t\\t\\t// is this is a mime-type\\n\\t\\t\\t\\t\\tif (type.includes('/')) {\\n\\t\\t\\t\\t\\t\\tif (!file.type) return false;\\n\\t\\t\\t\\t\\t\\treturn file.type.match(type);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// otherwise this is likely an extension\\n\\t\\t\\t\\t\\tif (type[0] === '.') {\\n\\t\\t\\t\\t\\t\\treturn file.name.endsWith(type);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (max_file_size && file.size != null) {\\n\\t\\t\\t\\tvalid_file_size = file.size < max_file_size;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!is_correct_type) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file type', file);\\n\\t\\t\\t\\tfrappe.show_alert({\\n\\t\\t\\t\\t\\tmessage: __('File \\\"{0}\\\" was skipped because of invalid file type', [file.name]),\\n\\t\\t\\t\\t\\tindicator: 'orange'\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t\\tif (!valid_file_size) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file size', file.size, file);\\n\\t\\t\\t\\tfrappe.show_alert({\\n\\t\\t\\t\\t\\tmessage: __('File \\\"{0}\\\" was skipped because size exceeds {1} MB', [file.name, max_file_size / (1024 * 1024)]),\\n\\t\\t\\t\\t\\tindicator: 'orange'\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn is_correct_type && valid_file_size;\\n\\t\\t},\\n\\t\\tupload_files() {\\n\\t\\t\\tif (this.show_file_browser) {\\n\\t\\t\\t\\treturn this.upload_via_file_browser();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.show_web_link) {\\n\\t\\t\\t\\treturn this.upload_via_web_link();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.as_dataurl) {\\n\\t\\t\\t\\treturn this.return_as_dataurl();\\n\\t\\t\\t}\\n\\t\\t\\treturn frappe.run_serially(\\n\\t\\t\\t\\tthis.files.map(\\n\\t\\t\\t\\t\\t(file, i) =>\\n\\t\\t\\t\\t\\t\\t() => this.upload_file(file, i)\\n\\t\\t\\t\\t)\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\tupload_via_file_browser() {\\n\\t\\t\\tlet selected_file = this.$refs.file_browser.selected_node;\\n\\t\\t\\tif (!selected_file.value) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Click on a file to select it.'));\\n\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url: selected_file.file_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tupload_via_web_link() {\\n\\t\\t\\tlet file_url = this.$refs.web_link.url;\\n\\t\\t\\tif (!file_url) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Invalid URL'));\\n\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\t\\t\\tfile_url = decodeURI(file_url)\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\treturn_as_dataurl() {\\n\\t\\t\\tlet promises = this.files.map(file =>\\n\\t\\t\\t\\tfrappe.dom.file_to_base64(file.file_obj)\\n\\t\\t\\t\\t\\t.then(dataurl => {\\n\\t\\t\\t\\t\\t\\tfile.dataurl = dataurl;\\n\\t\\t\\t\\t\\t\\tthis.on_success && this.on_success(file);\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t);\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn Promise.all(promises);\\n\\t\\t},\\n\\t\\tupload_file(file, i) {\\n\\t\\t\\tthis.currently_uploading = i;\\n\\n\\t\\t\\treturn new Promise((resolve, reject) => {\\n\\t\\t\\t\\tlet xhr = new XMLHttpRequest();\\n\\t\\t\\t\\txhr.upload.addEventListener('loadstart', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = true;\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('progress', (e) => {\\n\\t\\t\\t\\t\\tif (e.lengthComputable) {\\n\\t\\t\\t\\t\\t\\tfile.progress = e.loaded;\\n\\t\\t\\t\\t\\t\\tfile.total = e.total;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('load', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = false;\\n\\t\\t\\t\\t\\tresolve();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.addEventListener('error', (e) => {\\n\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\treject();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.onreadystatechange = () => {\\n\\t\\t\\t\\t\\tif (xhr.readyState == XMLHttpRequest.DONE) {\\n\\t\\t\\t\\t\\t\\tif (xhr.status === 200) {\\n\\t\\t\\t\\t\\t\\t\\tfile.request_succeeded = true;\\n\\t\\t\\t\\t\\t\\t\\tlet r = null;\\n\\t\\t\\t\\t\\t\\t\\tlet file_doc = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\tif (r.message.doctype === 'File') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfile_doc = r.message;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = xhr.responseText;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfile.doc = file_doc;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (this.on_success) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.on_success(file_doc, r);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (i == this.files.length - 1 && this.files.every(file => file.request_succeeded)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 403) {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tlet response = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = `Not permitted. ${response._error_message || ''}`;\\n\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 413) {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = 'Size exceeds the maximum allowed file size.';\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = xhr.status === 0 ? 'XMLHttpRequest Error' : `${xhr.status} : ${xhr.statusText}`;\\n\\n\\t\\t\\t\\t\\t\\t\\tlet error = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\terror = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// pass\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tfrappe.request.cleanup({}, error);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\txhr.open('POST', '/api/method/upload_file', true);\\n\\t\\t\\t\\txhr.setRequestHeader('Accept', 'application/json');\\n\\t\\t\\t\\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\\n\\n\\t\\t\\t\\tlet form_data = new FormData();\\n\\t\\t\\t\\tif (file.file_obj) {\\n\\t\\t\\t\\t\\tform_data.append('file', file.file_obj, file.name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tform_data.append('is_private', +file.private);\\n\\t\\t\\t\\tform_data.append('folder', this.folder);\\n\\n\\t\\t\\t\\tif (file.file_url) {\\n\\t\\t\\t\\t\\tform_data.append('file_url', file.file_url);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (file.file_name) {\\n\\t\\t\\t\\t\\tform_data.append('file_name', file.file_name);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.doctype && this.docname) {\\n\\t\\t\\t\\t\\tform_data.append('doctype', this.doctype);\\n\\t\\t\\t\\t\\tform_data.append('docname', this.docname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.fieldname) {\\n\\t\\t\\t\\t\\tform_data.append('fieldname', this.fieldname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.method) {\\n\\t\\t\\t\\t\\tform_data.append('method', this.method);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (file.optimize) {\\n\\t\\t\\t\\t\\tform_data.append('optimize', true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.attach_doc_image) {\\n\\t\\t\\t\\t\\tform_data.append('max_width', 200);\\n\\t\\t\\t\\t\\tform_data.append('max_height', 200);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\txhr.send(form_data);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tcapture_image() {\\n\\t\\t\\tconst capture = new frappe.ui.Capture({\\n\\t\\t\\t\\tanimate: false,\\n\\t\\t\\t\\terror: true\\n\\t\\t\\t});\\n\\t\\t\\tcapture.show();\\n\\t\\t\\tcapture.submit(data_urls => {\\n\\t\\t\\t\\tdata_urls.forEach(data_url => {\\n\\t\\t\\t\\t\\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\\n\\t\\t\\t\\t\\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\\n\\t\\t\\t\\t\\t\\tthis.add_files([file])\\n\\t\\t\\t\\t\\t);\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tshow_google_drive_picker() {\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\tlet google_drive = new GoogleDrivePicker({\\n\\t\\t\\t\\tpickerCallback: data => this.google_drive_callback(data),\\n\\t\\t\\t\\t...this.google_drive_settings\\n\\t\\t\\t});\\n\\t\\t\\tgoogle_drive.loadPicker();\\n\\t\\t},\\n\\t\\tgoogle_drive_callback(data) {\\n\\t\\t\\tif (data.action == google.picker.Action.PICKED) {\\n\\t\\t\\t\\tthis.upload_file({\\n\\t\\t\\t\\t\\tfile_url: data.docs[0].url,\\n\\t\\t\\t\\t\\tfile_name: data.docs[0].name\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else if (data.action == google.picker.Action.CANCEL) {\\n\\t\\t\\t\\tcur_frm.attachments.new_attachment()\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\turl_to_file(url, filename, mime_type) {\\n\\t\\t\\treturn fetch(url)\\n\\t\\t\\t\\t\\t.then(res => res.arrayBuffer())\\n\\t\\t\\t\\t\\t.then(buffer => new File([buffer], filename, { type: mime_type }));\\n\\t\\t},\\n\\t}\\n}\\n</script>\\n<style>\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"../akwad_frappe_fixes/akwad_frappe_fixes/public/js/file_uploader/FileUploader.vue\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "import FileUploaderComponent from \"./FileUploader.vue\";\n\nexport default class FileUploader {\n\tconstructor({\n\t\twrapper,\n\t\tmethod,\n\t\ton_success,\n\t\tdoctype,\n\t\tdocname,\n\t\tfieldname,\n\t\tfiles,\n\t\tfolder,\n\t\trestrictions = {},\n\t\tupload_notes,\n\t\tallow_multiple,\n\t\tas_dataurl,\n\t\tdisable_file_browser,\n\t\tdialog_title,\n\t\tattach_doc_image,\n\t\tfrm,\n\t\tmake_attachments_public,\n\t} = {}) {\n\t\tfrm && frm.attachments.max_reached(true);\n\n\t\tif (!wrapper) {\n\t\t\tthis.make_dialog(dialog_title);\n\t\t} else {\n\t\t\tthis.wrapper = wrapper.get ? wrapper.get(0) : wrapper;\n\t\t}\n\n\t\tthis.$fileuploader = new Vue({\n\t\t\tel: this.wrapper,\n\t\t\trender: (h) =>\n\t\t\t\th(FileUploaderComponent, {\n\t\t\t\t\tprops: {\n\t\t\t\t\t\tshow_upload_button: !Boolean(this.dialog),\n\t\t\t\t\t\tdoctype,\n\t\t\t\t\t\tdocname,\n\t\t\t\t\t\tfieldname,\n\t\t\t\t\t\tmethod,\n\t\t\t\t\t\tfolder,\n\t\t\t\t\t\ton_success,\n\t\t\t\t\t\trestrictions,\n\t\t\t\t\t\tupload_notes,\n\t\t\t\t\t\tallow_multiple,\n\t\t\t\t\t\tas_dataurl,\n\t\t\t\t\t\tdisable_file_browser,\n\t\t\t\t\t\tattach_doc_image,\n\t\t\t\t\t\tmake_attachments_public,\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t});\n\n\t\tthis.uploader = this.$fileuploader.$children[0];\n\n\t\tif (!this.dialog) {\n\t\t\tthis.uploader.wrapper_ready = true;\n\t\t}\n\n\t\t// this.uploader.$watch(\n\t\t// \t\"files\",\n\t\t// \t(files) => {\n\t\t// \t\tlet all_private = files.every((file) => file.private);\n\t\t// \t\tif (this.dialog) {\n\t\t// \t\t\tthis.dialog.set_secondary_action_label(\n\t\t// \t\t\t\tall_private ? __(\"Set all public\") : __(\"Set all private\")\n\t\t// \t\t\t);\n\t\t// \t\t}\n\t\t// \t},\n\t\t// \t{ deep: true }\n\t\t// );\n\n\t\tthis.uploader.$watch(\"trigger_upload\", (trigger_upload) => {\n\t\t\tif (trigger_upload) {\n\t\t\t\tthis.upload_files();\n\t\t\t}\n\t\t});\n\n\t\tthis.uploader.$watch(\"close_dialog\", (close_dialog) => {\n\t\t\tif (close_dialog) {\n\t\t\t\tthis.dialog && this.dialog.hide();\n\t\t\t}\n\t\t});\n\n\t\tthis.uploader.$watch(\"hide_dialog_footer\", (hide_dialog_footer) => {\n\t\t\tif (hide_dialog_footer) {\n\t\t\t\tthis.dialog && this.dialog.footer.addClass(\"hide\");\n\t\t\t\tthis.dialog.$wrapper.data(\"bs.modal\")._config.backdrop = \"static\";\n\t\t\t} else {\n\t\t\t\tthis.dialog && this.dialog.footer.removeClass(\"hide\");\n\t\t\t\tthis.dialog.$wrapper.data(\"bs.modal\")._config.backdrop = true;\n\t\t\t}\n\t\t});\n\n\t\tif (files && files.length) {\n\t\t\tthis.uploader.add_files(files);\n\t\t}\n\t}\n\n\tupload_files() {\n\t\tthis.dialog && this.dialog.get_primary_btn().prop(\"disabled\", true);\n\t\tthis.dialog && this.dialog.get_secondary_btn().prop(\"disabled\", true);\n\t\treturn this.uploader.upload_files();\n\t}\n\n\tmake_dialog(title) {\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: title || __(\"Upload\"),\n\t\t\tprimary_action_label: __(\"Upload\"),\n\t\t\tprimary_action: () => this.upload_files(),\n\t\t\t// secondary_action_label: __(\"Set all private\"),\n\t\t\t// secondary_action: () => {\n\t\t\t// \tthis.uploader.toggle_all_private();\n\t\t\t// },\n\t\t\ton_page_show: () => {\n\t\t\t\tthis.uploader.wrapper_ready = true;\n\t\t\t},\n\t\t});\n\n\t\tthis.wrapper = this.dialog.body;\n\t\tthis.dialog.show();\n\t\tthis.dialog.$wrapper.on(\"hidden.bs.modal\", function () {\n\t\t\t$(this).data(\"bs.modal\", null);\n\t\t\t$(this).remove();\n\t\t});\n\t}\n}\n", "import FileUploader from './js/file_uploader'\n// import FilePreview from './js/file_uploader'\n\n\n\nfrappe.provide('frappe.ui');\n\nfrappe.ui.FileUploader = FileUploader\n// frappe.ui.FilePreview = FilePreview"],
  "mappings": "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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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",
  "names": []
}
